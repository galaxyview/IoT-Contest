ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"esp8266_socket_imp.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.bss.s_esp8266_sock_cb,"aw",%nobits
  18              		.align	2
  21              	s_esp8266_sock_cb:
  22 0000 00000000 		.space	3640
  22      00000000 
  22      00000000 
  22      00000000 
  22      00000000 
  23              		.section	.text.esp8266_atcmd,"ax",%progbits
  24              		.align	1
  25              		.arch armv7e-m
  26              		.syntax unified
  27              		.thumb
  28              		.thumb_func
  29              		.fpu fpv4-sp-d16
  31              	esp8266_atcmd:
  32              	.LFB3:
  33              		.file 1 "g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket/esp8266_socket_imp.c"
   1:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** /*----------------------------------------------------------------------------
   2:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * All rights reserved.
   4:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * are permitted provided that the following conditions are met:
   6:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * conditions and the following disclaimer.
   8:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * provided with the distribution.
  11:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * to endorse or promote products derived from this software without specific prior written
  13:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * permission.
  14:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 2


  24:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  *---------------------------------------------------------------------------*/
  26:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** /*----------------------------------------------------------------------------
  27:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * Notice of Export Control Law
  28:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * ===============================================
  29:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  * applicable export control laws and regulations.
  33:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  *---------------------------------------------------------------------------*/
  34:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** /**
  35:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  *  DATE                AUTHOR      INSTRUCTION
  36:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  *  2019-08-5 15:09    yuhengP     The first version
  37:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  *
  38:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****  */
  39:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  40:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <stdio.h>
  41:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <string.h>
  42:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <unistd.h>
  43:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  44:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  45:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <sal.h>
  46:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <sal_imp.h>
  47:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <sal_define.h>
  48:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <sal_types.h>
  49:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <at.h>
  50:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <link_misc.h>
  51:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <link_endian.h>
  52:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <osal.h>
  53:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #include <iot_link_config.h>
  54:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  55:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** ///<anyway ,you should change it to the same as your hot point
  56:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #ifndef CONFIG_ESP8266_SSID
  57:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #define CONFIG_ESP8266_SSID         "gv"
  58:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #endif
  59:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  60:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #ifndef CONFIG_ESP8266_PWD
  61:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #define CONFIG_ESP8266_PWD       "Xcl727501"
  62:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #endif
  63:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  64:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #define WIFI_SSID                 CONFIG_ESP8266_SSID
  65:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #define WIFI_PASSWD               CONFIG_ESP8266_PWD
  66:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  67:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #define CN_ESP8266_CMDTIMEOUT    (10*1000)
  68:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #define CN_ESP8266_RCVINDEX      "\r\n+IPD"
  69:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** #define CN_ESP8266_CACHELEN      (1800)
  70:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  71:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** typedef struct
  72:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
  73:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int sockfd;
  74:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int domain;
  75:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int type;
  76:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int protocol;
  77:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  78:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int isconnect;
  79:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     unsigned int timeout;
  80:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     tag_ring_buffer_t esp8266_rcvring;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 3


  81:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  82:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     char oob_resp[CN_ESP8266_CACHELEN];
  83:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     unsigned char esp8266_rcvbuf[CN_ESP8266_CACHELEN];
  84:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }esp8266_sock_cb_t;
  85:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  86:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static esp8266_sock_cb_t s_esp8266_sock_cb;
  87:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  88:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  89:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** typedef enum
  90:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
  91:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     STA = 1,
  92:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     AP,
  93:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     STA_AP,
  94:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }enum_net_mode;
  95:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
  96:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** //esp8266 common at command
  97:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static bool_t esp8266_atcmd(const char *cmd,const char *index)
  98:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
  34              		.loc 1 98 1
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 16
  37              		@ frame_needed = 1, uses_anonymous_args = 0
  38 0000 80B5     		push	{r7, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 86B0     		sub	sp, sp, #24
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 32
  46 0004 02AF     		add	r7, sp, #8
  47              	.LCFI2:
  48              		.cfi_def_cfa 7, 24
  49 0006 7860     		str	r0, [r7, #4]
  50 0008 3960     		str	r1, [r7]
  99:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int ret = 0;
  51              		.loc 1 99 9
  52 000a 0023     		movs	r3, #0
  53 000c FB60     		str	r3, [r7, #12]
 100:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     ret = at_command((unsigned char *)cmd,strlen(cmd),index,NULL,0,CN_ESP8266_CMDTIMEOUT);
  54              		.loc 1 100 11
  55 000e 7868     		ldr	r0, [r7, #4]
  56 0010 FFF7FEFF 		bl	strlen
  57 0014 0146     		mov	r1, r0
  58 0016 42F21073 		movw	r3, #10000
  59 001a 0193     		str	r3, [sp, #4]
  60 001c 0023     		movs	r3, #0
  61 001e 0093     		str	r3, [sp]
  62 0020 0023     		movs	r3, #0
  63 0022 3A68     		ldr	r2, [r7]
  64 0024 7868     		ldr	r0, [r7, #4]
  65 0026 FFF7FEFF 		bl	at_command
  66 002a F860     		str	r0, [r7, #12]
 101:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(ret >= 0)
  67              		.loc 1 101 7
  68 002c FB68     		ldr	r3, [r7, #12]
  69 002e 002B     		cmp	r3, #0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 4


  70 0030 01DB     		blt	.L2
 102:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 103:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         return true;
  71              		.loc 1 103 16
  72 0032 0123     		movs	r3, #1
  73 0034 00E0     		b	.L3
  74              	.L2:
 104:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 105:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     else
 106:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 107:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         return false;
  75              		.loc 1 107 16
  76 0036 0023     		movs	r3, #0
  77              	.L3:
 108:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 109:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
  78              		.loc 1 109 1
  79 0038 1846     		mov	r0, r3
  80 003a 1037     		adds	r7, r7, #16
  81              	.LCFI3:
  82              		.cfi_def_cfa_offset 8
  83 003c BD46     		mov	sp, r7
  84              	.LCFI4:
  85              		.cfi_def_cfa_register 13
  86              		@ sp needed
  87 003e 80BD     		pop	{r7, pc}
  88              		.cfi_endproc
  89              	.LFE3:
  91              		.section	.text.esp8266_atcmd_response,"ax",%progbits
  92              		.align	1
  93              		.syntax unified
  94              		.thumb
  95              		.thumb_func
  96              		.fpu fpv4-sp-d16
  98              	esp8266_atcmd_response:
  99              	.LFB4:
 110:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 111:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** //at command  with response
 112:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static bool_t esp8266_atcmd_response(const char *cmd,const char *index,char *buf, int len)
 113:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 100              		.loc 1 113 1
 101              		.cfi_startproc
 102              		@ args = 0, pretend = 0, frame = 24
 103              		@ frame_needed = 1, uses_anonymous_args = 0
 104 0000 80B5     		push	{r7, lr}
 105              	.LCFI5:
 106              		.cfi_def_cfa_offset 8
 107              		.cfi_offset 7, -8
 108              		.cfi_offset 14, -4
 109 0002 88B0     		sub	sp, sp, #32
 110              	.LCFI6:
 111              		.cfi_def_cfa_offset 40
 112 0004 02AF     		add	r7, sp, #8
 113              	.LCFI7:
 114              		.cfi_def_cfa 7, 32
 115 0006 F860     		str	r0, [r7, #12]
 116 0008 B960     		str	r1, [r7, #8]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 5


 117 000a 7A60     		str	r2, [r7, #4]
 118 000c 3B60     		str	r3, [r7]
 114:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int ret = 0;
 119              		.loc 1 114 9
 120 000e 0023     		movs	r3, #0
 121 0010 7B61     		str	r3, [r7, #20]
 115:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     ret = at_command((unsigned char *)cmd,strlen(cmd),index,(char *)buf,len,CN_ESP8266_CMDTIMEOUT);
 122              		.loc 1 115 11
 123 0012 F868     		ldr	r0, [r7, #12]
 124 0014 FFF7FEFF 		bl	strlen
 125 0018 0146     		mov	r1, r0
 126 001a 3B68     		ldr	r3, [r7]
 127 001c 42F21072 		movw	r2, #10000
 128 0020 0192     		str	r2, [sp, #4]
 129 0022 0093     		str	r3, [sp]
 130 0024 7B68     		ldr	r3, [r7, #4]
 131 0026 BA68     		ldr	r2, [r7, #8]
 132 0028 F868     		ldr	r0, [r7, #12]
 133 002a FFF7FEFF 		bl	at_command
 134 002e 7861     		str	r0, [r7, #20]
 116:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(ret >= 0)
 135              		.loc 1 116 7
 136 0030 7B69     		ldr	r3, [r7, #20]
 137 0032 002B     		cmp	r3, #0
 138 0034 01DB     		blt	.L5
 117:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 118:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         return true;
 139              		.loc 1 118 16
 140 0036 0123     		movs	r3, #1
 141 0038 00E0     		b	.L6
 142              	.L5:
 119:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 120:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     else
 121:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 122:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         return false;
 143              		.loc 1 122 16
 144 003a 0023     		movs	r3, #0
 145              	.L6:
 123:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 124:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 146              		.loc 1 124 1
 147 003c 1846     		mov	r0, r3
 148 003e 1837     		adds	r7, r7, #24
 149              	.LCFI8:
 150              		.cfi_def_cfa_offset 8
 151 0040 BD46     		mov	sp, r7
 152              	.LCFI9:
 153              		.cfi_def_cfa_register 13
 154              		@ sp needed
 155 0042 80BD     		pop	{r7, pc}
 156              		.cfi_endproc
 157              	.LFE4:
 159              		.section	.rodata
 160              		.align	2
 161              	.LC0:
 162 0000 5B25735D 		.ascii	"[%s][%u][%s:%d] %s:invalid frame:%d byte:%s\012\015"
 162      5B25755D 
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 6


 162      5B25733A 
 162      25645D20 
 162      25733A69 
 163 002d 0D0A00   		.ascii	"\015\012\000"
 164              		.align	2
 165              	.LC1:
 166 0030 5B25735D 		.ascii	"[%s][%u][%s:%d] %s:format error\012\015\015\012\000"
 166      5B25755D 
 166      5B25733A 
 166      25645D20 
 166      25733A66 
 167              		.section	.text.esp8266_rcvdeal,"ax",%progbits
 168              		.align	1
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 172              		.fpu fpv4-sp-d16
 174              	esp8266_rcvdeal:
 175              	.LFB5:
 125:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 126:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_rcvdeal(void *args,void *msg,size_t len)
 127:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 176              		.loc 1 127 1
 177              		.cfi_startproc
 178              		@ args = 0, pretend = 0, frame = 40
 179              		@ frame_needed = 1, uses_anonymous_args = 0
 180 0000 90B5     		push	{r4, r7, lr}
 181              	.LCFI10:
 182              		.cfi_def_cfa_offset 12
 183              		.cfi_offset 4, -12
 184              		.cfi_offset 7, -8
 185              		.cfi_offset 14, -4
 186 0002 8FB0     		sub	sp, sp, #60
 187              	.LCFI11:
 188              		.cfi_def_cfa_offset 72
 189 0004 04AF     		add	r7, sp, #16
 190              	.LCFI12:
 191              		.cfi_def_cfa 7, 56
 192 0006 F860     		str	r0, [r7, #12]
 193 0008 B960     		str	r1, [r7, #8]
 194 000a 7A60     		str	r2, [r7, #4]
 128:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int ret = 0;
 195              		.loc 1 128 9
 196 000c 0023     		movs	r3, #0
 197 000e 7B62     		str	r3, [r7, #36]
 129:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     unsigned short datalen;
 130:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     char *data;
 131:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     char  *str;
 132:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     char  *data_nxt;
 133:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 134:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     data = msg;
 198              		.loc 1 134 10
 199 0010 BB68     		ldr	r3, [r7, #8]
 200 0012 FB61     		str	r3, [r7, #28]
 135:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 136:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(len <strlen(CN_ESP8266_RCVINDEX))
 201              		.loc 1 136 7
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 7


 202 0014 7B68     		ldr	r3, [r7, #4]
 203 0016 052B     		cmp	r3, #5
 204 0018 1BD8     		bhi	.L8
 137:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 138:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         LINK_LOG_DEBUG("%s:invalid frame:%d byte:%s\n\r",__FUNCTION__,len,(char *)data);
 205              		.loc 1 138 9
 206 001a FFF7FEFF 		bl	link_log_level_get
 207 001e 0346     		mov	r3, r0
 208 0020 012B     		cmp	r3, #1
 209 0022 14D8     		bhi	.L9
 210              		.loc 1 138 9 is_stmt 0 discriminator 1
 211 0024 0120     		movs	r0, #1
 212 0026 FFF7FEFF 		bl	link_log_level_name
 213 002a 0446     		mov	r4, r0
 214 002c FFF7FEFF 		bl	osal_sys_time
 215 0030 0246     		mov	r2, r0
 216 0032 0B46     		mov	r3, r1
 217 0034 FB69     		ldr	r3, [r7, #28]
 218 0036 0393     		str	r3, [sp, #12]
 219 0038 7B68     		ldr	r3, [r7, #4]
 220 003a 0293     		str	r3, [sp, #8]
 221 003c 734B     		ldr	r3, .L27
 222 003e 0193     		str	r3, [sp, #4]
 223 0040 8A23     		movs	r3, #138
 224 0042 0093     		str	r3, [sp]
 225 0044 714B     		ldr	r3, .L27
 226 0046 2146     		mov	r1, r4
 227 0048 7148     		ldr	r0, .L27+4
 228 004a FFF7FEFF 		bl	printf
 229              	.L9:
 139:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         return ret;
 230              		.loc 1 139 16 is_stmt 1
 231 004e 7B6A     		ldr	r3, [r7, #36]
 232 0050 D8E0     		b	.L26
 233              	.L8:
 140:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 141:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     //now deal the data
 142:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     str = strstr((char *)data,",");
 234              		.loc 1 142 11
 235 0052 2C21     		movs	r1, #44
 236 0054 F869     		ldr	r0, [r7, #28]
 237 0056 FFF7FEFF 		bl	strchr
 238 005a 3862     		str	r0, [r7, #32]
 143:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(NULL == str)
 239              		.loc 1 143 7
 240 005c 3B6A     		ldr	r3, [r7, #32]
 241 005e 002B     		cmp	r3, #0
 242 0060 17D1     		bne	.L11
 144:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 145:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         LINK_LOG_DEBUG("%s:format error\n\r",__FUNCTION__);
 243              		.loc 1 145 9
 244 0062 FFF7FEFF 		bl	link_log_level_get
 245 0066 0346     		mov	r3, r0
 246 0068 012B     		cmp	r3, #1
 247 006a 10D8     		bhi	.L12
 248              		.loc 1 145 9 is_stmt 0 discriminator 1
 249 006c 0120     		movs	r0, #1
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 8


 250 006e FFF7FEFF 		bl	link_log_level_name
 251 0072 0446     		mov	r4, r0
 252 0074 FFF7FEFF 		bl	osal_sys_time
 253 0078 0246     		mov	r2, r0
 254 007a 0B46     		mov	r3, r1
 255 007c 634B     		ldr	r3, .L27
 256 007e 0193     		str	r3, [sp, #4]
 257 0080 9123     		movs	r3, #145
 258 0082 0093     		str	r3, [sp]
 259 0084 614B     		ldr	r3, .L27
 260 0086 2146     		mov	r1, r4
 261 0088 6248     		ldr	r0, .L27+8
 262 008a FFF7FEFF 		bl	printf
 263              	.L12:
 146:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         return ret; //format error
 264              		.loc 1 146 16 is_stmt 1
 265 008e 7B6A     		ldr	r3, [r7, #36]
 266 0090 B8E0     		b	.L26
 267              	.L11:
 147:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 148:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     str++;
 268              		.loc 1 148 8
 269 0092 3B6A     		ldr	r3, [r7, #32]
 270 0094 0133     		adds	r3, r3, #1
 271 0096 3B62     		str	r3, [r7, #32]
 149:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 150:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     //TODO: mux = 1
 151:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 152:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     datalen = 0;
 272              		.loc 1 152 13
 273 0098 0023     		movs	r3, #0
 274 009a FB82     		strh	r3, [r7, #22]	@ movhi
 153:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     for (; *str <= '9' && *str >= '0' ;str++)
 275              		.loc 1 153 5
 276 009c 10E0     		b	.L13
 277              	.L15:
 154:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 155:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         datalen = (datalen * 10 + (*str - '0'));
 278              		.loc 1 155 33 discriminator 3
 279 009e FB8A     		ldrh	r3, [r7, #22]
 280 00a0 1A46     		mov	r2, r3	@ movhi
 281 00a2 9200     		lsls	r2, r2, #2
 282 00a4 1344     		add	r3, r3, r2
 283 00a6 5B00     		lsls	r3, r3, #1
 284 00a8 9AB2     		uxth	r2, r3
 285              		.loc 1 155 36 discriminator 3
 286 00aa 3B6A     		ldr	r3, [r7, #32]
 287 00ac 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 288 00ae 9BB2     		uxth	r3, r3
 289              		.loc 1 155 33 discriminator 3
 290 00b0 1344     		add	r3, r3, r2
 291 00b2 9BB2     		uxth	r3, r3
 292 00b4 303B     		subs	r3, r3, #48
 293 00b6 9BB2     		uxth	r3, r3
 294              		.loc 1 155 17 discriminator 3
 295 00b8 FB82     		strh	r3, [r7, #22]	@ movhi
 153:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     for (; *str <= '9' && *str >= '0' ;str++)
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 9


 296              		.loc 1 153 43 discriminator 3
 297 00ba 3B6A     		ldr	r3, [r7, #32]
 298 00bc 0133     		adds	r3, r3, #1
 299 00be 3B62     		str	r3, [r7, #32]
 300              	.L13:
 153:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     for (; *str <= '9' && *str >= '0' ;str++)
 301              		.loc 1 153 12 discriminator 1
 302 00c0 3B6A     		ldr	r3, [r7, #32]
 303 00c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 153:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     for (; *str <= '9' && *str >= '0' ;str++)
 304              		.loc 1 153 5 discriminator 1
 305 00c4 392B     		cmp	r3, #57
 306 00c6 03D8     		bhi	.L14
 153:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     for (; *str <= '9' && *str >= '0' ;str++)
 307              		.loc 1 153 27 discriminator 2
 308 00c8 3B6A     		ldr	r3, [r7, #32]
 309 00ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 153:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     for (; *str <= '9' && *str >= '0' ;str++)
 310              		.loc 1 153 24 discriminator 2
 311 00cc 2F2B     		cmp	r3, #47
 312 00ce E6D8     		bhi	.L15
 313              	.L14:
 156:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 157:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     str++;
 314              		.loc 1 157 8
 315 00d0 3B6A     		ldr	r3, [r7, #32]
 316 00d2 0133     		adds	r3, r3, #1
 317 00d4 3B62     		str	r3, [r7, #32]
 158:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 159:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     data_nxt = str + datalen;
 318              		.loc 1 159 20
 319 00d6 FB8A     		ldrh	r3, [r7, #22]
 320 00d8 1A46     		mov	r2, r3
 321              		.loc 1 159 14
 322 00da 3B6A     		ldr	r3, [r7, #32]
 323 00dc 1344     		add	r3, r3, r2
 324 00de BB61     		str	r3, [r7, #24]
 160:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 161:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     //now this is data payload
 162:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(datalen > (CN_ESP8266_CACHELEN - ring_buffer_datalen(&s_esp8266_sock_cb.esp8266_rcvring)))
 325              		.loc 1 162 16
 326 00e0 FB8A     		ldrh	r3, [r7, #22]
 327 00e2 1C46     		mov	r4, r3
 328              		.loc 1 162 41
 329 00e4 4C48     		ldr	r0, .L27+12
 330 00e6 FFF7FEFF 		bl	ring_buffer_datalen
 331 00ea 0346     		mov	r3, r0
 332              		.loc 1 162 39
 333 00ec C3F5E163 		rsb	r3, r3, #1800
 334              		.loc 1 162 7
 335 00f0 9C42     		cmp	r4, r3
 336 00f2 01DD     		ble	.L16
 163:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 164:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     	return 0;
 337              		.loc 1 164 13
 338 00f4 0023     		movs	r3, #0
 339 00f6 85E0     		b	.L26
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 10


 340              	.L16:
 165:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 166:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 167:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(s_esp8266_sock_cb.type == SOCK_DGRAM)
 341              		.loc 1 167 25
 342 00f8 484B     		ldr	r3, .L27+16
 343 00fa 9B68     		ldr	r3, [r3, #8]
 344              		.loc 1 167 7
 345 00fc 022B     		cmp	r3, #2
 346 00fe 0FD1     		bne	.L17
 168:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 169:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     	ret = ring_buffer_write(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)&datalen,sizeof(da
 347              		.loc 1 169 12
 348 0100 07F11603 		add	r3, r7, #22
 349 0104 0222     		movs	r2, #2
 350 0106 1946     		mov	r1, r3
 351 0108 4348     		ldr	r0, .L27+12
 352 010a FFF7FEFF 		bl	ring_buffer_write
 353 010e 7862     		str	r0, [r7, #36]
 170:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         ret = ring_buffer_write(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)str,datalen);
 354              		.loc 1 170 15
 355 0110 FB8A     		ldrh	r3, [r7, #22]
 356 0112 1A46     		mov	r2, r3
 357 0114 396A     		ldr	r1, [r7, #32]
 358 0116 4048     		ldr	r0, .L27+12
 359 0118 FFF7FEFF 		bl	ring_buffer_write
 360 011c 7862     		str	r0, [r7, #36]
 361 011e 0AE0     		b	.L18
 362              	.L17:
 171:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 172:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     else if (s_esp8266_sock_cb.type == SOCK_STREAM)
 363              		.loc 1 172 31
 364 0120 3E4B     		ldr	r3, .L27+16
 365 0122 9B68     		ldr	r3, [r3, #8]
 366              		.loc 1 172 13
 367 0124 012B     		cmp	r3, #1
 368 0126 06D1     		bne	.L18
 173:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 174:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         ret = ring_buffer_write(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)str,datalen);
 369              		.loc 1 174 15
 370 0128 FB8A     		ldrh	r3, [r7, #22]
 371 012a 1A46     		mov	r2, r3
 372 012c 396A     		ldr	r1, [r7, #32]
 373 012e 3A48     		ldr	r0, .L27+12
 374 0130 FFF7FEFF 		bl	ring_buffer_write
 375 0134 7862     		str	r0, [r7, #36]
 376              	.L18:
 175:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 176:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 177:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 178:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(data_nxt < (data + len))
 377              		.loc 1 178 25
 378 0136 FA69     		ldr	r2, [r7, #28]
 379 0138 7B68     		ldr	r3, [r7, #4]
 380 013a 1344     		add	r3, r3, r2
 381              		.loc 1 178 7
 382 013c BA69     		ldr	r2, [r7, #24]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 11


 383 013e 9A42     		cmp	r2, r3
 384 0140 5FD2     		bcs	.L19
 179:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 180:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         msg =data_nxt;
 385              		.loc 1 180 13
 386 0142 BB69     		ldr	r3, [r7, #24]
 387 0144 BB60     		str	r3, [r7, #8]
 181:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         data = msg;
 388              		.loc 1 181 14
 389 0146 BB68     		ldr	r3, [r7, #8]
 390 0148 FB61     		str	r3, [r7, #28]
 182:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         //now deal the data
 183:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         str = strstr((char *)data,",");
 391              		.loc 1 183 15
 392 014a 2C21     		movs	r1, #44
 393 014c F869     		ldr	r0, [r7, #28]
 394 014e FFF7FEFF 		bl	strchr
 395 0152 3862     		str	r0, [r7, #32]
 184:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(NULL == str)
 396              		.loc 1 184 11
 397 0154 3B6A     		ldr	r3, [r7, #32]
 398 0156 002B     		cmp	r3, #0
 399 0158 01D1     		bne	.L20
 185:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 186:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             return ret; //format error
 400              		.loc 1 186 20
 401 015a 7B6A     		ldr	r3, [r7, #36]
 402 015c 52E0     		b	.L26
 403              	.L20:
 187:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 188:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         str++;
 404              		.loc 1 188 12
 405 015e 3B6A     		ldr	r3, [r7, #32]
 406 0160 0133     		adds	r3, r3, #1
 407 0162 3B62     		str	r3, [r7, #32]
 189:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 190:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         //TODO: mux = 1
 191:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 192:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         datalen = 0;
 408              		.loc 1 192 17
 409 0164 0023     		movs	r3, #0
 410 0166 FB82     		strh	r3, [r7, #22]	@ movhi
 193:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         for (; *str <= '9' && *str >= '0' ;str++)
 411              		.loc 1 193 9
 412 0168 10E0     		b	.L21
 413              	.L23:
 194:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 195:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             datalen = (datalen * 10 + (*str - '0'));
 414              		.loc 1 195 37 discriminator 3
 415 016a FB8A     		ldrh	r3, [r7, #22]
 416 016c 1A46     		mov	r2, r3	@ movhi
 417 016e 9200     		lsls	r2, r2, #2
 418 0170 1344     		add	r3, r3, r2
 419 0172 5B00     		lsls	r3, r3, #1
 420 0174 9AB2     		uxth	r2, r3
 421              		.loc 1 195 40 discriminator 3
 422 0176 3B6A     		ldr	r3, [r7, #32]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 12


 423 0178 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 424 017a 9BB2     		uxth	r3, r3
 425              		.loc 1 195 37 discriminator 3
 426 017c 1344     		add	r3, r3, r2
 427 017e 9BB2     		uxth	r3, r3
 428 0180 303B     		subs	r3, r3, #48
 429 0182 9BB2     		uxth	r3, r3
 430              		.loc 1 195 21 discriminator 3
 431 0184 FB82     		strh	r3, [r7, #22]	@ movhi
 193:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         for (; *str <= '9' && *str >= '0' ;str++)
 432              		.loc 1 193 47 discriminator 3
 433 0186 3B6A     		ldr	r3, [r7, #32]
 434 0188 0133     		adds	r3, r3, #1
 435 018a 3B62     		str	r3, [r7, #32]
 436              	.L21:
 193:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         for (; *str <= '9' && *str >= '0' ;str++)
 437              		.loc 1 193 16 discriminator 1
 438 018c 3B6A     		ldr	r3, [r7, #32]
 439 018e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 193:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         for (; *str <= '9' && *str >= '0' ;str++)
 440              		.loc 1 193 9 discriminator 1
 441 0190 392B     		cmp	r3, #57
 442 0192 03D8     		bhi	.L22
 193:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         for (; *str <= '9' && *str >= '0' ;str++)
 443              		.loc 1 193 31 discriminator 2
 444 0194 3B6A     		ldr	r3, [r7, #32]
 445 0196 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 193:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         for (; *str <= '9' && *str >= '0' ;str++)
 446              		.loc 1 193 28 discriminator 2
 447 0198 2F2B     		cmp	r3, #47
 448 019a E6D8     		bhi	.L23
 449              	.L22:
 196:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 197:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         str++;
 450              		.loc 1 197 12
 451 019c 3B6A     		ldr	r3, [r7, #32]
 452 019e 0133     		adds	r3, r3, #1
 453 01a0 3B62     		str	r3, [r7, #32]
 198:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 199:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         data_nxt = str + datalen;
 454              		.loc 1 199 24
 455 01a2 FB8A     		ldrh	r3, [r7, #22]
 456 01a4 1A46     		mov	r2, r3
 457              		.loc 1 199 18
 458 01a6 3B6A     		ldr	r3, [r7, #32]
 459 01a8 1344     		add	r3, r3, r2
 460 01aa BB61     		str	r3, [r7, #24]
 200:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 201:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         //now this is data payload
 202:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(datalen > (CN_ESP8266_CACHELEN - ring_buffer_datalen(&s_esp8266_sock_cb.esp8266_rcvring)
 461              		.loc 1 202 20
 462 01ac FB8A     		ldrh	r3, [r7, #22]
 463 01ae 1C46     		mov	r4, r3
 464              		.loc 1 202 45
 465 01b0 1948     		ldr	r0, .L27+12
 466 01b2 FFF7FEFF 		bl	ring_buffer_datalen
 467 01b6 0346     		mov	r3, r0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 13


 468              		.loc 1 202 43
 469 01b8 C3F5E163 		rsb	r3, r3, #1800
 470              		.loc 1 202 11
 471 01bc 9C42     		cmp	r4, r3
 472 01be 01DD     		ble	.L24
 203:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 204:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             return 0;
 473              		.loc 1 204 20
 474 01c0 0023     		movs	r3, #0
 475 01c2 1FE0     		b	.L26
 476              	.L24:
 205:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 206:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 207:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(s_esp8266_sock_cb.type == SOCK_DGRAM)
 477              		.loc 1 207 29
 478 01c4 154B     		ldr	r3, .L27+16
 479 01c6 9B68     		ldr	r3, [r3, #8]
 480              		.loc 1 207 11
 481 01c8 022B     		cmp	r3, #2
 482 01ca 0FD1     		bne	.L25
 208:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 209:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             ret = ring_buffer_write(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)&datalen,si
 483              		.loc 1 209 19
 484 01cc 07F11603 		add	r3, r7, #22
 485 01d0 0222     		movs	r2, #2
 486 01d2 1946     		mov	r1, r3
 487 01d4 1048     		ldr	r0, .L27+12
 488 01d6 FFF7FEFF 		bl	ring_buffer_write
 489 01da 7862     		str	r0, [r7, #36]
 210:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             ret = ring_buffer_write(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)str,datalen
 490              		.loc 1 210 19
 491 01dc FB8A     		ldrh	r3, [r7, #22]
 492 01de 1A46     		mov	r2, r3
 493 01e0 396A     		ldr	r1, [r7, #32]
 494 01e2 0D48     		ldr	r0, .L27+12
 495 01e4 FFF7FEFF 		bl	ring_buffer_write
 496 01e8 7862     		str	r0, [r7, #36]
 497 01ea 0AE0     		b	.L19
 498              	.L25:
 211:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 212:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         else if (s_esp8266_sock_cb.type == SOCK_STREAM)
 499              		.loc 1 212 35
 500 01ec 0B4B     		ldr	r3, .L27+16
 501 01ee 9B68     		ldr	r3, [r3, #8]
 502              		.loc 1 212 17
 503 01f0 012B     		cmp	r3, #1
 504 01f2 06D1     		bne	.L19
 213:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 214:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             ret = ring_buffer_write(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)str,datalen
 505              		.loc 1 214 19
 506 01f4 FB8A     		ldrh	r3, [r7, #22]
 507 01f6 1A46     		mov	r2, r3
 508 01f8 396A     		ldr	r1, [r7, #32]
 509 01fa 0748     		ldr	r0, .L27+12
 510 01fc FFF7FEFF 		bl	ring_buffer_write
 511 0200 7862     		str	r0, [r7, #36]
 512              	.L19:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 14


 215:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 216:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 217:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 218:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return ret;
 513              		.loc 1 218 12
 514 0202 7B6A     		ldr	r3, [r7, #36]
 515              	.L26:
 219:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 220:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 516              		.loc 1 220 1 discriminator 1
 517 0204 1846     		mov	r0, r3
 518 0206 2C37     		adds	r7, r7, #44
 519              	.LCFI13:
 520              		.cfi_def_cfa_offset 12
 521 0208 BD46     		mov	sp, r7
 522              	.LCFI14:
 523              		.cfi_def_cfa_register 13
 524              		@ sp needed
 525 020a 90BD     		pop	{r4, r7, pc}
 526              	.L28:
 527              		.align	2
 528              	.L27:
 529 020c 00000000 		.word	__FUNCTION__.7509
 530 0210 00000000 		.word	.LC0
 531 0214 30000000 		.word	.LC1
 532 0218 18000000 		.word	s_esp8266_sock_cb+24
 533 021c 00000000 		.word	s_esp8266_sock_cb
 534              		.cfi_endproc
 535              	.LFE5:
 537              		.section	.text.esp8266_socket,"ax",%progbits
 538              		.align	1
 539              		.syntax unified
 540              		.thumb
 541              		.thumb_func
 542              		.fpu fpv4-sp-d16
 544              	esp8266_socket:
 545              	.LFB6:
 221:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 222:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_socket(int domain, int type, int protocol)
 223:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 546              		.loc 1 223 1
 547              		.cfi_startproc
 548              		@ args = 0, pretend = 0, frame = 16
 549              		@ frame_needed = 1, uses_anonymous_args = 0
 550              		@ link register save eliminated.
 551 0000 80B4     		push	{r7}
 552              	.LCFI15:
 553              		.cfi_def_cfa_offset 4
 554              		.cfi_offset 7, -4
 555 0002 85B0     		sub	sp, sp, #20
 556              	.LCFI16:
 557              		.cfi_def_cfa_offset 24
 558 0004 00AF     		add	r7, sp, #0
 559              	.LCFI17:
 560              		.cfi_def_cfa_register 7
 561 0006 F860     		str	r0, [r7, #12]
 562 0008 B960     		str	r1, [r7, #8]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 15


 563 000a 7A60     		str	r2, [r7, #4]
 224:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	s_esp8266_sock_cb.domain = domain;
 564              		.loc 1 224 27
 565 000c 094A     		ldr	r2, .L31
 566 000e FB68     		ldr	r3, [r7, #12]
 567 0010 5360     		str	r3, [r2, #4]
 225:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	s_esp8266_sock_cb.type = type;
 568              		.loc 1 225 25
 569 0012 084A     		ldr	r2, .L31
 570 0014 BB68     		ldr	r3, [r7, #8]
 571 0016 9360     		str	r3, [r2, #8]
 226:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	s_esp8266_sock_cb.protocol = protocol;
 572              		.loc 1 226 29
 573 0018 064A     		ldr	r2, .L31
 574 001a 7B68     		ldr	r3, [r7, #4]
 575 001c D360     		str	r3, [r2, #12]
 227:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	s_esp8266_sock_cb.sockfd = 0;
 576              		.loc 1 227 27
 577 001e 054B     		ldr	r3, .L31
 578 0020 0022     		movs	r2, #0
 579 0022 1A60     		str	r2, [r3]
 228:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 229:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	return s_esp8266_sock_cb.sockfd;
 580              		.loc 1 229 26
 581 0024 034B     		ldr	r3, .L31
 582 0026 1B68     		ldr	r3, [r3]
 230:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 583              		.loc 1 230 1
 584 0028 1846     		mov	r0, r3
 585 002a 1437     		adds	r7, r7, #20
 586              	.LCFI18:
 587              		.cfi_def_cfa_offset 4
 588 002c BD46     		mov	sp, r7
 589              	.LCFI19:
 590              		.cfi_def_cfa_register 13
 591              		@ sp needed
 592 002e 5DF8047B 		ldr	r7, [sp], #4
 593              	.LCFI20:
 594              		.cfi_restore 7
 595              		.cfi_def_cfa_offset 0
 596 0032 7047     		bx	lr
 597              	.L32:
 598              		.align	2
 599              	.L31:
 600 0034 00000000 		.word	s_esp8266_sock_cb
 601              		.cfi_endproc
 602              	.LFE6:
 604              		.section	.text.__esp8266_bind,"ax",%progbits
 605              		.align	1
 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 609              		.fpu fpv4-sp-d16
 611              	__esp8266_bind:
 612              	.LFB7:
 231:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 232:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int __esp8266_bind(int fd, const struct sockaddr *addr, int addrlen)
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 16


 233:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 613              		.loc 1 233 1
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 16
 616              		@ frame_needed = 1, uses_anonymous_args = 0
 617              		@ link register save eliminated.
 618 0000 80B4     		push	{r7}
 619              	.LCFI21:
 620              		.cfi_def_cfa_offset 4
 621              		.cfi_offset 7, -4
 622 0002 85B0     		sub	sp, sp, #20
 623              	.LCFI22:
 624              		.cfi_def_cfa_offset 24
 625 0004 00AF     		add	r7, sp, #0
 626              	.LCFI23:
 627              		.cfi_def_cfa_register 7
 628 0006 F860     		str	r0, [r7, #12]
 629 0008 B960     		str	r1, [r7, #8]
 630 000a 7A60     		str	r2, [r7, #4]
 234:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	//not implemented for client
 235:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return 0;
 631              		.loc 1 235 12
 632 000c 0023     		movs	r3, #0
 236:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 633              		.loc 1 236 1
 634 000e 1846     		mov	r0, r3
 635 0010 1437     		adds	r7, r7, #20
 636              	.LCFI24:
 637              		.cfi_def_cfa_offset 4
 638 0012 BD46     		mov	sp, r7
 639              	.LCFI25:
 640              		.cfi_def_cfa_register 13
 641              		@ sp needed
 642 0014 5DF8047B 		ldr	r7, [sp], #4
 643              	.LCFI26:
 644              		.cfi_restore 7
 645              		.cfi_def_cfa_offset 0
 646 0018 7047     		bx	lr
 647              		.cfi_endproc
 648              	.LFE7:
 650              		.section	.text.esp8266_listen,"ax",%progbits
 651              		.align	1
 652              		.syntax unified
 653              		.thumb
 654              		.thumb_func
 655              		.fpu fpv4-sp-d16
 657              	esp8266_listen:
 658              	.LFB8:
 237:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 238:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_listen(int fd, int backlog)
 239:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 659              		.loc 1 239 1
 660              		.cfi_startproc
 661              		@ args = 0, pretend = 0, frame = 8
 662              		@ frame_needed = 1, uses_anonymous_args = 0
 663              		@ link register save eliminated.
 664 0000 80B4     		push	{r7}
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 17


 665              	.LCFI27:
 666              		.cfi_def_cfa_offset 4
 667              		.cfi_offset 7, -4
 668 0002 83B0     		sub	sp, sp, #12
 669              	.LCFI28:
 670              		.cfi_def_cfa_offset 16
 671 0004 00AF     		add	r7, sp, #0
 672              	.LCFI29:
 673              		.cfi_def_cfa_register 7
 674 0006 7860     		str	r0, [r7, #4]
 675 0008 3960     		str	r1, [r7]
 240:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	//not implemented for client
 241:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return 0;
 676              		.loc 1 241 12
 677 000a 0023     		movs	r3, #0
 242:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 678              		.loc 1 242 1
 679 000c 1846     		mov	r0, r3
 680 000e 0C37     		adds	r7, r7, #12
 681              	.LCFI30:
 682              		.cfi_def_cfa_offset 4
 683 0010 BD46     		mov	sp, r7
 684              	.LCFI31:
 685              		.cfi_def_cfa_register 13
 686              		@ sp needed
 687 0012 5DF8047B 		ldr	r7, [sp], #4
 688              	.LCFI32:
 689              		.cfi_restore 7
 690              		.cfi_def_cfa_offset 0
 691 0016 7047     		bx	lr
 692              		.cfi_endproc
 693              	.LFE8:
 695              		.section	.text.__esp8266_accept,"ax",%progbits
 696              		.align	1
 697              		.syntax unified
 698              		.thumb
 699              		.thumb_func
 700              		.fpu fpv4-sp-d16
 702              	__esp8266_accept:
 703              	.LFB9:
 243:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 244:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int __esp8266_accept(int fd, struct sockaddr *addr, int addrlen)
 245:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 704              		.loc 1 245 1
 705              		.cfi_startproc
 706              		@ args = 0, pretend = 0, frame = 16
 707              		@ frame_needed = 1, uses_anonymous_args = 0
 708              		@ link register save eliminated.
 709 0000 80B4     		push	{r7}
 710              	.LCFI33:
 711              		.cfi_def_cfa_offset 4
 712              		.cfi_offset 7, -4
 713 0002 85B0     		sub	sp, sp, #20
 714              	.LCFI34:
 715              		.cfi_def_cfa_offset 24
 716 0004 00AF     		add	r7, sp, #0
 717              	.LCFI35:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 18


 718              		.cfi_def_cfa_register 7
 719 0006 F860     		str	r0, [r7, #12]
 720 0008 B960     		str	r1, [r7, #8]
 721 000a 7A60     		str	r2, [r7, #4]
 246:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	//not implemented for client
 247:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return 0;
 722              		.loc 1 247 12
 723 000c 0023     		movs	r3, #0
 248:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 724              		.loc 1 248 1
 725 000e 1846     		mov	r0, r3
 726 0010 1437     		adds	r7, r7, #20
 727              	.LCFI36:
 728              		.cfi_def_cfa_offset 4
 729 0012 BD46     		mov	sp, r7
 730              	.LCFI37:
 731              		.cfi_def_cfa_register 13
 732              		@ sp needed
 733 0014 5DF8047B 		ldr	r7, [sp], #4
 734              	.LCFI38:
 735              		.cfi_restore 7
 736              		.cfi_def_cfa_offset 0
 737 0018 7047     		bx	lr
 738              		.cfi_endproc
 739              	.LFE9:
 741              		.section	.rodata
 742              		.align	2
 743              	.LC2:
 744 0054 41542B43 		.ascii	"AT+CIPSTART=\"UDP\",\"%s\",%d\015\012\000"
 744      49505354 
 744      4152543D 
 744      22554450 
 744      222C2225 
 745              		.align	2
 746              	.LC3:
 747 0070 41542B43 		.ascii	"AT+CIPSTART=\"TCP\",\"%s\",%d\015\012\000"
 747      49505354 
 747      4152543D 
 747      22544350 
 747      222C2225 
 748              		.align	2
 749              	.LC4:
 750 008c 4F4B00   		.ascii	"OK\000"
 751              		.section	.text.__esp8266_connect,"ax",%progbits
 752              		.align	1
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 756              		.fpu fpv4-sp-d16
 758              	__esp8266_connect:
 759              	.LFB10:
 249:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 250:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int __esp8266_connect(int fd, const struct sockaddr *addr, int addrlen)
 251:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 760              		.loc 1 251 1
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 104
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 19


 763              		@ frame_needed = 1, uses_anonymous_args = 0
 764 0000 80B5     		push	{r7, lr}
 765              	.LCFI39:
 766              		.cfi_def_cfa_offset 8
 767              		.cfi_offset 7, -8
 768              		.cfi_offset 14, -4
 769 0002 9CB0     		sub	sp, sp, #112
 770              	.LCFI40:
 771              		.cfi_def_cfa_offset 120
 772 0004 02AF     		add	r7, sp, #8
 773              	.LCFI41:
 774              		.cfi_def_cfa 7, 112
 775 0006 F860     		str	r0, [r7, #12]
 776 0008 B960     		str	r1, [r7, #8]
 777 000a 7A60     		str	r2, [r7, #4]
 252:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     char cmd[64];
 253:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int ret = -1;
 778              		.loc 1 253 9
 779 000c 4FF0FF33 		mov	r3, #-1
 780 0010 7B66     		str	r3, [r7, #100]
 254:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     char *remote_ip;
 255:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 256:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(NULL != addr)
 781              		.loc 1 256 7
 782 0012 BB68     		ldr	r3, [r7, #8]
 783 0014 002B     		cmp	r3, #0
 784 0016 4AD0     		beq	.L40
 785              	.LBB2:
 257:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 258:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         (void) memset(cmd,0,64);
 786              		.loc 1 258 16
 787 0018 07F11803 		add	r3, r7, #24
 788 001c 4022     		movs	r2, #64
 789 001e 0021     		movs	r1, #0
 790 0020 1846     		mov	r0, r3
 791 0022 FFF7FEFF 		bl	memset
 259:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         //(void) memset(remote_ip,0,16);
 260:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 261:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         const struct sockaddr_in *serv_addr = (const struct sockaddr_in *)addr;
 792              		.loc 1 261 35
 793 0026 BB68     		ldr	r3, [r7, #8]
 794 0028 3B66     		str	r3, [r7, #96]
 262:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         uint16_t remote_port = ntohs(serv_addr->sin_port);
 795              		.loc 1 262 32
 796 002a 3B6E     		ldr	r3, [r7, #96]
 797 002c 5B88     		ldrh	r3, [r3, #2]
 798 002e 1B0A     		lsrs	r3, r3, #8
 799 0030 9BB2     		uxth	r3, r3
 800 0032 1AB2     		sxth	r2, r3
 801 0034 3B6E     		ldr	r3, [r7, #96]
 802 0036 5B88     		ldrh	r3, [r3, #2]
 803 0038 1B02     		lsls	r3, r3, #8
 804 003a 1BB2     		sxth	r3, r3
 805 003c 1343     		orrs	r3, r3, r2
 806 003e 1BB2     		sxth	r3, r3
 807              		.loc 1 262 18
 808 0040 A7F85E30 		strh	r3, [r7, #94]	@ movhi
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 20


 263:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         struct in_addr remote_ip_int = serv_addr->sin_addr;
 809              		.loc 1 263 24
 810 0044 3B6E     		ldr	r3, [r7, #96]
 811 0046 5B68     		ldr	r3, [r3, #4]
 812 0048 7B61     		str	r3, [r7, #20]
 264:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         remote_ip = inet_ntoa(remote_ip_int);
 813              		.loc 1 264 21
 814 004a 7869     		ldr	r0, [r7, #20]
 815 004c FFF7FEFF 		bl	inet_ntoa
 816 0050 B865     		str	r0, [r7, #88]
 265:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 266:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         //TODO: mux = 1
 267:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(s_esp8266_sock_cb.type == SOCK_DGRAM)
 817              		.loc 1 267 29
 818 0052 194B     		ldr	r3, .L47
 819 0054 9B68     		ldr	r3, [r3, #8]
 820              		.loc 1 267 11
 821 0056 022B     		cmp	r3, #2
 822 0058 0AD1     		bne	.L41
 268:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 269:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	(void) snprintf(cmd,64,"AT+CIPSTART=\"UDP\",\"%s\",%d\r\n",remote_ip,remote_port);
 823              		.loc 1 269 17
 824 005a B7F85E30 		ldrh	r3, [r7, #94]
 825 005e 07F11800 		add	r0, r7, #24
 826 0062 0093     		str	r3, [sp]
 827 0064 BB6D     		ldr	r3, [r7, #88]
 828 0066 154A     		ldr	r2, .L47+4
 829 0068 4021     		movs	r1, #64
 830 006a FFF7FEFF 		bl	snprintf
 831 006e 10E0     		b	.L42
 832              	.L41:
 270:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 271:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         else if(s_esp8266_sock_cb.type == SOCK_STREAM)
 833              		.loc 1 271 34
 834 0070 114B     		ldr	r3, .L47
 835 0072 9B68     		ldr	r3, [r3, #8]
 836              		.loc 1 271 16
 837 0074 012B     		cmp	r3, #1
 838 0076 0AD1     		bne	.L43
 272:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 273:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	(void) snprintf(cmd,64,"AT+CIPSTART=\"TCP\",\"%s\",%d\r\n",remote_ip,remote_port);
 839              		.loc 1 273 17
 840 0078 B7F85E30 		ldrh	r3, [r7, #94]
 841 007c 07F11800 		add	r0, r7, #24
 842 0080 0093     		str	r3, [sp]
 843 0082 BB6D     		ldr	r3, [r7, #88]
 844 0084 0E4A     		ldr	r2, .L47+8
 845 0086 4021     		movs	r1, #64
 846 0088 FFF7FEFF 		bl	snprintf
 847 008c 01E0     		b	.L42
 848              	.L43:
 274:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 275:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         else return ret;
 849              		.loc 1 275 21
 850 008e 7B6E     		ldr	r3, [r7, #100]
 851 0090 0EE0     		b	.L46
 852              	.L42:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 21


 276:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 277:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(esp8266_atcmd(cmd,"OK"))
 853              		.loc 1 277 12
 854 0092 07F11803 		add	r3, r7, #24
 855 0096 0B49     		ldr	r1, .L47+12
 856 0098 1846     		mov	r0, r3
 857 009a FFF7FEFF 		bl	esp8266_atcmd
 858 009e 0346     		mov	r3, r0
 859              		.loc 1 277 11
 860 00a0 002B     		cmp	r3, #0
 861 00a2 04D0     		beq	.L40
 278:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 279:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	s_esp8266_sock_cb.isconnect = 1;
 862              		.loc 1 279 38
 863 00a4 044B     		ldr	r3, .L47
 864 00a6 0122     		movs	r2, #1
 865 00a8 1A61     		str	r2, [r3, #16]
 280:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	ret = 0;
 866              		.loc 1 280 14
 867 00aa 0023     		movs	r3, #0
 868 00ac 7B66     		str	r3, [r7, #100]
 869              	.L40:
 870              	.LBE2:
 281:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 282:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 283:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return ret;
 871              		.loc 1 283 12
 872 00ae 7B6E     		ldr	r3, [r7, #100]
 873              	.L46:
 284:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 874              		.loc 1 284 1 discriminator 1
 875 00b0 1846     		mov	r0, r3
 876 00b2 6837     		adds	r7, r7, #104
 877              	.LCFI42:
 878              		.cfi_def_cfa_offset 8
 879 00b4 BD46     		mov	sp, r7
 880              	.LCFI43:
 881              		.cfi_def_cfa_register 13
 882              		@ sp needed
 883 00b6 80BD     		pop	{r7, pc}
 884              	.L48:
 885              		.align	2
 886              	.L47:
 887 00b8 00000000 		.word	s_esp8266_sock_cb
 888 00bc 54000000 		.word	.LC2
 889 00c0 70000000 		.word	.LC3
 890 00c4 8C000000 		.word	.LC4
 891              		.cfi_endproc
 892              	.LFE10:
 894              		.section	.rodata
 895 008f 00       		.align	2
 896              	.LC5:
 897 0090 41542B43 		.ascii	"AT+CIPSEND=%d\015\012\000"
 897      49505345 
 897      4E443D25 
 897      640D0A00 
 898              		.align	2
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 22


 899              	.LC6:
 900 00a0 3E00     		.ascii	">\000"
 901 00a2 0000     		.align	2
 902              	.LC7:
 903 00a4 53454E44 		.ascii	"SEND OK\000"
 903      204F4B00 
 904              		.align	2
 905              	.LC8:
 906 00ac 0D0A2B49 		.ascii	"\015\012+IPD\000"
 906      504400
 907              		.section	.text.esp8266_send,"ax",%progbits
 908              		.align	1
 909              		.syntax unified
 910              		.thumb
 911              		.thumb_func
 912              		.fpu fpv4-sp-d16
 914              	esp8266_send:
 915              	.LFB11:
 285:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 286:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_send(int fd, const void *buf, int len, int flags)
 287:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 916              		.loc 1 287 1
 917              		.cfi_startproc
 918              		@ args = 0, pretend = 0, frame = 88
 919              		@ frame_needed = 1, uses_anonymous_args = 0
 920 0000 80B5     		push	{r7, lr}
 921              	.LCFI44:
 922              		.cfi_def_cfa_offset 8
 923              		.cfi_offset 7, -8
 924              		.cfi_offset 14, -4
 925 0002 98B0     		sub	sp, sp, #96
 926              	.LCFI45:
 927              		.cfi_def_cfa_offset 104
 928 0004 02AF     		add	r7, sp, #8
 929              	.LCFI46:
 930              		.cfi_def_cfa 7, 96
 931 0006 F860     		str	r0, [r7, #12]
 932 0008 B960     		str	r1, [r7, #8]
 933 000a 7A60     		str	r2, [r7, #4]
 934 000c 3B60     		str	r3, [r7]
 288:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char cmd[64];
 289:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int ret = -1;
 935              		.loc 1 289 9
 936 000e 4FF0FF33 		mov	r3, #-1
 937 0012 7B65     		str	r3, [r7, #84]
 290:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 291:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(NULL != buf)
 938              		.loc 1 291 7
 939 0014 BB68     		ldr	r3, [r7, #8]
 940 0016 002B     		cmp	r3, #0
 941 0018 3BD0     		beq	.L50
 292:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 293:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         (void) memset(cmd,0,64);
 942              		.loc 1 293 16
 943 001a 07F11003 		add	r3, r7, #16
 944 001e 4022     		movs	r2, #64
 945 0020 0021     		movs	r1, #0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 23


 946 0022 1846     		mov	r0, r3
 947 0024 FFF7FEFF 		bl	memset
 294:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         (void) memset(s_esp8266_sock_cb.oob_resp,0,1024);
 948              		.loc 1 294 16
 949 0028 4FF48062 		mov	r2, #1024
 950 002c 0021     		movs	r1, #0
 951 002e 1E48     		ldr	r0, .L53
 952 0030 FFF7FEFF 		bl	memset
 295:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 296:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         (void) snprintf(cmd,64,"AT+CIPSEND=%d\r\n",len); //TODO:mux = 1
 953              		.loc 1 296 16
 954 0034 07F11000 		add	r0, r7, #16
 955 0038 7B68     		ldr	r3, [r7, #4]
 956 003a 1C4A     		ldr	r2, .L53+4
 957 003c 4021     		movs	r1, #64
 958 003e FFF7FEFF 		bl	snprintf
 297:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 298:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(esp8266_atcmd(cmd,">"))
 959              		.loc 1 298 12
 960 0042 07F11003 		add	r3, r7, #16
 961 0046 1A49     		ldr	r1, .L53+8
 962 0048 1846     		mov	r0, r3
 963 004a FFF7FEFF 		bl	esp8266_atcmd
 964 004e 0346     		mov	r3, r0
 965              		.loc 1 298 11
 966 0050 002B     		cmp	r3, #0
 967 0052 1ED0     		beq	.L50
 968              	.LBB3:
 299:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 300:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	ret = at_command((unsigned char *)buf,len,"SEND OK",(char *)s_esp8266_sock_cb.oob_resp,102
 969              		.loc 1 300 16
 970 0054 7968     		ldr	r1, [r7, #4]
 971 0056 42F21073 		movw	r3, #10000
 972 005a 0193     		str	r3, [sp, #4]
 973 005c 4FF48063 		mov	r3, #1024
 974 0060 0093     		str	r3, [sp]
 975 0062 114B     		ldr	r3, .L53
 976 0064 134A     		ldr	r2, .L53+12
 977 0066 B868     		ldr	r0, [r7, #8]
 978 0068 FFF7FEFF 		bl	at_command
 979 006c 7865     		str	r0, [r7, #84]
 301:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	char *str;
 302:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	str = strstr(s_esp8266_sock_cb.oob_resp,CN_ESP8266_RCVINDEX);  //in some cases, +IPD is no
 980              		.loc 1 302 16
 981 006e 1249     		ldr	r1, .L53+16
 982 0070 0D48     		ldr	r0, .L53
 983 0072 FFF7FEFF 		bl	strstr
 984 0076 3865     		str	r0, [r7, #80]
 303:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	if(NULL != str)
 985              		.loc 1 303 12
 986 0078 3B6D     		ldr	r3, [r7, #80]
 987 007a 002B     		cmp	r3, #0
 988 007c 09D0     		beq	.L50
 304:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	{
 305:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         		esp8266_rcvdeal(NULL,str,(char *)s_esp8266_sock_cb.oob_resp + ret - str);
 989              		.loc 1 305 71
 990 007e 7B6D     		ldr	r3, [r7, #84]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 24


 991 0080 094A     		ldr	r2, .L53
 992 0082 1A44     		add	r2, r2, r3
 993              		.loc 1 305 77
 994 0084 3B6D     		ldr	r3, [r7, #80]
 995 0086 D31A     		subs	r3, r2, r3
 996              		.loc 1 305 11
 997 0088 1A46     		mov	r2, r3
 998 008a 396D     		ldr	r1, [r7, #80]
 999 008c 0020     		movs	r0, #0
 1000 008e FFF7FEFF 		bl	esp8266_rcvdeal
 1001              	.L50:
 1002              	.LBE3:
 306:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         	}
 307:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 308:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 309:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(ret > 0)
 1003              		.loc 1 309 7
 1004 0092 7B6D     		ldr	r3, [r7, #84]
 1005 0094 002B     		cmp	r3, #0
 1006 0096 01DD     		ble	.L51
 310:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 311:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     	ret = len;
 1007              		.loc 1 311 10
 1008 0098 7B68     		ldr	r3, [r7, #4]
 1009 009a 7B65     		str	r3, [r7, #84]
 1010              	.L51:
 312:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 313:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return ret;
 1011              		.loc 1 313 12
 1012 009c 7B6D     		ldr	r3, [r7, #84]
 314:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1013              		.loc 1 314 1
 1014 009e 1846     		mov	r0, r3
 1015 00a0 5837     		adds	r7, r7, #88
 1016              	.LCFI47:
 1017              		.cfi_def_cfa_offset 8
 1018 00a2 BD46     		mov	sp, r7
 1019              	.LCFI48:
 1020              		.cfi_def_cfa_register 13
 1021              		@ sp needed
 1022 00a4 80BD     		pop	{r7, pc}
 1023              	.L54:
 1024 00a6 00BF     		.align	2
 1025              	.L53:
 1026 00a8 28000000 		.word	s_esp8266_sock_cb+40
 1027 00ac 90000000 		.word	.LC5
 1028 00b0 A0000000 		.word	.LC6
 1029 00b4 A4000000 		.word	.LC7
 1030 00b8 AC000000 		.word	.LC8
 1031              		.cfi_endproc
 1032              	.LFE11:
 1034              		.section	.text.__esp8266_sendto,"ax",%progbits
 1035              		.align	1
 1036              		.syntax unified
 1037              		.thumb
 1038              		.thumb_func
 1039              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 25


 1041              	__esp8266_sendto:
 1042              	.LFB12:
 315:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int __esp8266_sendto(int fd, const void *msg, int len, int flags, struct sockaddr *addr, int
 316:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1043              		.loc 1 316 1
 1044              		.cfi_startproc
 1045              		@ args = 8, pretend = 0, frame = 16
 1046              		@ frame_needed = 1, uses_anonymous_args = 0
 1047 0000 80B5     		push	{r7, lr}
 1048              	.LCFI49:
 1049              		.cfi_def_cfa_offset 8
 1050              		.cfi_offset 7, -8
 1051              		.cfi_offset 14, -4
 1052 0002 84B0     		sub	sp, sp, #16
 1053              	.LCFI50:
 1054              		.cfi_def_cfa_offset 24
 1055 0004 00AF     		add	r7, sp, #0
 1056              	.LCFI51:
 1057              		.cfi_def_cfa_register 7
 1058 0006 F860     		str	r0, [r7, #12]
 1059 0008 B960     		str	r1, [r7, #8]
 1060 000a 7A60     		str	r2, [r7, #4]
 1061 000c 3B60     		str	r3, [r7]
 317:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	if (!s_esp8266_sock_cb.isconnect)
 1062              		.loc 1 317 24
 1063 000e 0A4B     		ldr	r3, .L58
 1064 0010 1B69     		ldr	r3, [r3, #16]
 1065              		.loc 1 317 5
 1066 0012 002B     		cmp	r3, #0
 1067 0014 04D1     		bne	.L56
 318:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	{
 319:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 		__esp8266_connect(fd,addr,addrlen);
 1068              		.loc 1 319 3
 1069 0016 FA69     		ldr	r2, [r7, #28]
 1070 0018 B969     		ldr	r1, [r7, #24]
 1071 001a F868     		ldr	r0, [r7, #12]
 1072 001c FFF7FEFF 		bl	__esp8266_connect
 1073              	.L56:
 320:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	}
 321:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return esp8266_send(fd,msg,len,flags);
 1074              		.loc 1 321 12
 1075 0020 3B68     		ldr	r3, [r7]
 1076 0022 7A68     		ldr	r2, [r7, #4]
 1077 0024 B968     		ldr	r1, [r7, #8]
 1078 0026 F868     		ldr	r0, [r7, #12]
 1079 0028 FFF7FEFF 		bl	esp8266_send
 1080 002c 0346     		mov	r3, r0
 322:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1081              		.loc 1 322 1
 1082 002e 1846     		mov	r0, r3
 1083 0030 1037     		adds	r7, r7, #16
 1084              	.LCFI52:
 1085              		.cfi_def_cfa_offset 8
 1086 0032 BD46     		mov	sp, r7
 1087              	.LCFI53:
 1088              		.cfi_def_cfa_register 13
 1089              		@ sp needed
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 26


 1090 0034 80BD     		pop	{r7, pc}
 1091              	.L59:
 1092 0036 00BF     		.align	2
 1093              	.L58:
 1094 0038 00000000 		.word	s_esp8266_sock_cb
 1095              		.cfi_endproc
 1096              	.LFE12:
 1098              		.section	.text.esp8266_recv,"ax",%progbits
 1099              		.align	1
 1100              		.syntax unified
 1101              		.thumb
 1102              		.thumb_func
 1103              		.fpu fpv4-sp-d16
 1105              	esp8266_recv:
 1106              	.LFB13:
 323:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 324:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_recv(int fd,void *buf,size_t len,int flags)
 325:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1107              		.loc 1 325 1
 1108              		.cfi_startproc
 1109              		@ args = 0, pretend = 0, frame = 32
 1110              		@ frame_needed = 1, uses_anonymous_args = 0
 1111 0000 80B5     		push	{r7, lr}
 1112              	.LCFI54:
 1113              		.cfi_def_cfa_offset 8
 1114              		.cfi_offset 7, -8
 1115              		.cfi_offset 14, -4
 1116 0002 88B0     		sub	sp, sp, #32
 1117              	.LCFI55:
 1118              		.cfi_def_cfa_offset 40
 1119 0004 00AF     		add	r7, sp, #0
 1120              	.LCFI56:
 1121              		.cfi_def_cfa_register 7
 1122 0006 F860     		str	r0, [r7, #12]
 1123 0008 B960     		str	r1, [r7, #8]
 1124 000a 7A60     		str	r2, [r7, #4]
 1125 000c 3B60     		str	r3, [r7]
 326:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	int ret = -1;
 1126              		.loc 1 326 6
 1127 000e 4FF0FF33 		mov	r3, #-1
 1128 0012 FB61     		str	r3, [r7, #28]
 327:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	unsigned int timeout = 0;
 1129              		.loc 1 327 15
 1130 0014 0023     		movs	r3, #0
 1131 0016 BB61     		str	r3, [r7, #24]
 328:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 329:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	timeout = s_esp8266_sock_cb.timeout;
 1132              		.loc 1 329 10
 1133 0018 214B     		ldr	r3, .L70
 1134 001a 5B69     		ldr	r3, [r3, #20]
 1135 001c BB61     		str	r3, [r7, #24]
 1136              	.L66:
 330:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	do{
 331:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(s_esp8266_sock_cb.type == SOCK_DGRAM)
 1137              		.loc 1 331 29
 1138 001e 204B     		ldr	r3, .L70
 1139 0020 9B68     		ldr	r3, [r3, #8]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 27


 1140              		.loc 1 331 11
 1141 0022 022B     		cmp	r3, #2
 1142 0024 14D1     		bne	.L61
 1143              	.LBB4:
 332:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 333:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             unsigned short framelen = 0;
 1144              		.loc 1 333 28
 1145 0026 0023     		movs	r3, #0
 1146 0028 FB82     		strh	r3, [r7, #22]	@ movhi
 334:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             ret = ring_buffer_read(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)&framelen,si
 1147              		.loc 1 334 19
 1148 002a 07F11603 		add	r3, r7, #22
 1149 002e 0222     		movs	r2, #2
 1150 0030 1946     		mov	r1, r3
 1151 0032 1C48     		ldr	r0, .L70+4
 1152 0034 FFF7FEFF 		bl	ring_buffer_read
 1153 0038 F861     		str	r0, [r7, #28]
 335:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             ret = ring_buffer_read(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)buf,framelen
 1154              		.loc 1 335 19
 1155 003a FB8A     		ldrh	r3, [r7, #22]
 1156 003c 1A46     		mov	r2, r3
 1157 003e B968     		ldr	r1, [r7, #8]
 1158 0040 1848     		ldr	r0, .L70+4
 1159 0042 FFF7FEFF 		bl	ring_buffer_read
 1160 0046 F861     		str	r0, [r7, #28]
 336:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             if(ret > 0)
 1161              		.loc 1 336 15
 1162 0048 FB69     		ldr	r3, [r7, #28]
 1163 004a 002B     		cmp	r3, #0
 1164 004c 0EDD     		ble	.L64
 337:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             {
 338:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****                 break;
 1165              		.loc 1 338 17
 1166 004e 1BE0     		b	.L63
 1167              	.L61:
 1168              	.LBE4:
 339:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             }
 340:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 341:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         else if (s_esp8266_sock_cb.type == SOCK_STREAM)
 1169              		.loc 1 341 35
 1170 0050 134B     		ldr	r3, .L70
 1171 0052 9B68     		ldr	r3, [r3, #8]
 1172              		.loc 1 341 17
 1173 0054 012B     		cmp	r3, #1
 1174 0056 09D1     		bne	.L64
 342:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 343:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             ret = ring_buffer_read(&s_esp8266_sock_cb.esp8266_rcvring,(unsigned char *)buf,len);
 1175              		.loc 1 343 19
 1176 0058 7B68     		ldr	r3, [r7, #4]
 1177 005a 1A46     		mov	r2, r3
 1178 005c B968     		ldr	r1, [r7, #8]
 1179 005e 1148     		ldr	r0, .L70+4
 1180 0060 FFF7FEFF 		bl	ring_buffer_read
 1181 0064 F861     		str	r0, [r7, #28]
 344:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             if(ret > 0)
 1182              		.loc 1 344 15
 1183 0066 FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 28


 1184 0068 002B     		cmp	r3, #0
 1185 006a 0CDC     		bgt	.L69
 1186              	.L64:
 345:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             {
 346:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****                 break;
 347:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             }
 348:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 349:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(timeout > 0)
 1187              		.loc 1 349 11
 1188 006c BB69     		ldr	r3, [r7, #24]
 1189 006e 002B     		cmp	r3, #0
 1190 0070 05D0     		beq	.L65
 350:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 351:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             osal_task_sleep(1);
 1191              		.loc 1 351 13
 1192 0072 0120     		movs	r0, #1
 1193 0074 FFF7FEFF 		bl	osal_task_sleep
 352:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             timeout--;
 1194              		.loc 1 352 20
 1195 0078 BB69     		ldr	r3, [r7, #24]
 1196 007a 013B     		subs	r3, r3, #1
 1197 007c BB61     		str	r3, [r7, #24]
 1198              	.L65:
 353:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 354:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	}while(timeout > 0);
 1199              		.loc 1 354 2
 1200 007e BB69     		ldr	r3, [r7, #24]
 1201 0080 002B     		cmp	r3, #0
 1202 0082 CCD1     		bne	.L66
 1203 0084 00E0     		b	.L63
 1204              	.L69:
 346:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             }
 1205              		.loc 1 346 17
 1206 0086 00BF     		nop
 1207              	.L63:
 355:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 356:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 357:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	if(0 == ret)
 1208              		.loc 1 357 4
 1209 0088 FB69     		ldr	r3, [r7, #28]
 1210 008a 002B     		cmp	r3, #0
 1211 008c 02D1     		bne	.L67
 358:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	{
 359:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 		return -1;
 1212              		.loc 1 359 10
 1213 008e 4FF0FF33 		mov	r3, #-1
 1214 0092 00E0     		b	.L68
 1215              	.L67:
 360:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	}
 361:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	else return ret;
 1216              		.loc 1 361 14
 1217 0094 FB69     		ldr	r3, [r7, #28]
 1218              	.L68:
 362:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1219              		.loc 1 362 1
 1220 0096 1846     		mov	r0, r3
 1221 0098 2037     		adds	r7, r7, #32
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 29


 1222              	.LCFI57:
 1223              		.cfi_def_cfa_offset 8
 1224 009a BD46     		mov	sp, r7
 1225              	.LCFI58:
 1226              		.cfi_def_cfa_register 13
 1227              		@ sp needed
 1228 009c 80BD     		pop	{r7, pc}
 1229              	.L71:
 1230 009e 00BF     		.align	2
 1231              	.L70:
 1232 00a0 00000000 		.word	s_esp8266_sock_cb
 1233 00a4 18000000 		.word	s_esp8266_sock_cb+24
 1234              		.cfi_endproc
 1235              	.LFE13:
 1237              		.section	.text.__esp8266_recvfrom,"ax",%progbits
 1238              		.align	1
 1239              		.syntax unified
 1240              		.thumb
 1241              		.thumb_func
 1242              		.fpu fpv4-sp-d16
 1244              	__esp8266_recvfrom:
 1245              	.LFB14:
 363:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 364:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int __esp8266_recvfrom(int fd, void *msg, int len, int flags, struct sockaddr *addr, socklen
 365:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1246              		.loc 1 365 1
 1247              		.cfi_startproc
 1248              		@ args = 8, pretend = 0, frame = 16
 1249              		@ frame_needed = 1, uses_anonymous_args = 0
 1250 0000 80B5     		push	{r7, lr}
 1251              	.LCFI59:
 1252              		.cfi_def_cfa_offset 8
 1253              		.cfi_offset 7, -8
 1254              		.cfi_offset 14, -4
 1255 0002 84B0     		sub	sp, sp, #16
 1256              	.LCFI60:
 1257              		.cfi_def_cfa_offset 24
 1258 0004 00AF     		add	r7, sp, #0
 1259              	.LCFI61:
 1260              		.cfi_def_cfa_register 7
 1261 0006 F860     		str	r0, [r7, #12]
 1262 0008 B960     		str	r1, [r7, #8]
 1263 000a 7A60     		str	r2, [r7, #4]
 1264 000c 3B60     		str	r3, [r7]
 366:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return esp8266_recv(fd,msg,len,flags);
 1265              		.loc 1 366 12
 1266 000e 7A68     		ldr	r2, [r7, #4]
 1267 0010 3B68     		ldr	r3, [r7]
 1268 0012 B968     		ldr	r1, [r7, #8]
 1269 0014 F868     		ldr	r0, [r7, #12]
 1270 0016 FFF7FEFF 		bl	esp8266_recv
 1271 001a 0346     		mov	r3, r0
 367:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1272              		.loc 1 367 1
 1273 001c 1846     		mov	r0, r3
 1274 001e 1037     		adds	r7, r7, #16
 1275              	.LCFI62:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 30


 1276              		.cfi_def_cfa_offset 8
 1277 0020 BD46     		mov	sp, r7
 1278              	.LCFI63:
 1279              		.cfi_def_cfa_register 13
 1280              		@ sp needed
 1281 0022 80BD     		pop	{r7, pc}
 1282              		.cfi_endproc
 1283              	.LFE14:
 1285              		.section	.text.__esp8266_setsockopt,"ax",%progbits
 1286              		.align	1
 1287              		.syntax unified
 1288              		.thumb
 1289              		.thumb_func
 1290              		.fpu fpv4-sp-d16
 1292              	__esp8266_setsockopt:
 1293              	.LFB15:
 368:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 369:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 370:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int __esp8266_setsockopt(int fd, int level, int option, const void *option_value, int option
 371:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1294              		.loc 1 371 1
 1295              		.cfi_startproc
 1296              		@ args = 4, pretend = 0, frame = 24
 1297              		@ frame_needed = 1, uses_anonymous_args = 0
 1298              		@ link register save eliminated.
 1299 0000 80B4     		push	{r7}
 1300              	.LCFI64:
 1301              		.cfi_def_cfa_offset 4
 1302              		.cfi_offset 7, -4
 1303 0002 87B0     		sub	sp, sp, #28
 1304              	.LCFI65:
 1305              		.cfi_def_cfa_offset 32
 1306 0004 00AF     		add	r7, sp, #0
 1307              	.LCFI66:
 1308              		.cfi_def_cfa_register 7
 1309 0006 F860     		str	r0, [r7, #12]
 1310 0008 B960     		str	r1, [r7, #8]
 1311 000a 7A60     		str	r2, [r7, #4]
 1312 000c 3B60     		str	r3, [r7]
 372:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	//TODO:MUX=1
 373:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	struct timeval *timedelay = (struct timeval *)option_value;
 1313              		.loc 1 373 18
 1314 000e 3B68     		ldr	r3, [r7]
 1315 0010 7B61     		str	r3, [r7, #20]
 374:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	s_esp8266_sock_cb.timeout = (timedelay->tv_sec * 1000) + (timedelay->tv_usec / 1000);
 1316              		.loc 1 374 40
 1317 0012 7B69     		ldr	r3, [r7, #20]
 1318 0014 D3E90023 		ldrd	r2, [r3]
 1319              		.loc 1 374 57
 1320 0018 4FF47A73 		mov	r3, #1000
 1321 001c 03FB02F2 		mul	r2, r3, r2
 1322              		.loc 1 374 69
 1323 0020 7B69     		ldr	r3, [r7, #20]
 1324 0022 9B68     		ldr	r3, [r3, #8]
 1325              		.loc 1 374 79
 1326 0024 0749     		ldr	r1, .L76
 1327 0026 81FB0301 		smull	r0, r1, r1, r3
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 31


 1328 002a 8911     		asrs	r1, r1, #6
 1329 002c DB17     		asrs	r3, r3, #31
 1330 002e CB1A     		subs	r3, r1, r3
 1331              		.loc 1 374 57
 1332 0030 1344     		add	r3, r3, r2
 1333              		.loc 1 374 28
 1334 0032 054A     		ldr	r2, .L76+4
 1335 0034 5361     		str	r3, [r2, #20]
 375:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return 0;
 1336              		.loc 1 375 12
 1337 0036 0023     		movs	r3, #0
 376:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1338              		.loc 1 376 1
 1339 0038 1846     		mov	r0, r3
 1340 003a 1C37     		adds	r7, r7, #28
 1341              	.LCFI67:
 1342              		.cfi_def_cfa_offset 4
 1343 003c BD46     		mov	sp, r7
 1344              	.LCFI68:
 1345              		.cfi_def_cfa_register 13
 1346              		@ sp needed
 1347 003e 5DF8047B 		ldr	r7, [sp], #4
 1348              	.LCFI69:
 1349              		.cfi_restore 7
 1350              		.cfi_def_cfa_offset 0
 1351 0042 7047     		bx	lr
 1352              	.L77:
 1353              		.align	2
 1354              	.L76:
 1355 0044 D34D6210 		.word	274877907
 1356 0048 00000000 		.word	s_esp8266_sock_cb
 1357              		.cfi_endproc
 1358              	.LFE15:
 1360              		.section	.text.esp8266_getsockopt,"ax",%progbits
 1361              		.align	1
 1362              		.syntax unified
 1363              		.thumb
 1364              		.thumb_func
 1365              		.fpu fpv4-sp-d16
 1367              	esp8266_getsockopt:
 1368              	.LFB16:
 377:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 378:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_getsockopt(int fd, int level, int optname, const void *optval, int optlen)
 379:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1369              		.loc 1 379 1
 1370              		.cfi_startproc
 1371              		@ args = 4, pretend = 0, frame = 16
 1372              		@ frame_needed = 1, uses_anonymous_args = 0
 1373              		@ link register save eliminated.
 1374 0000 80B4     		push	{r7}
 1375              	.LCFI70:
 1376              		.cfi_def_cfa_offset 4
 1377              		.cfi_offset 7, -4
 1378 0002 85B0     		sub	sp, sp, #20
 1379              	.LCFI71:
 1380              		.cfi_def_cfa_offset 24
 1381 0004 00AF     		add	r7, sp, #0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 32


 1382              	.LCFI72:
 1383              		.cfi_def_cfa_register 7
 1384 0006 F860     		str	r0, [r7, #12]
 1385 0008 B960     		str	r1, [r7, #8]
 1386 000a 7A60     		str	r2, [r7, #4]
 1387 000c 3B60     		str	r3, [r7]
 380:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	//not implemented
 381:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return 0;
 1388              		.loc 1 381 12
 1389 000e 0023     		movs	r3, #0
 382:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1390              		.loc 1 382 1
 1391 0010 1846     		mov	r0, r3
 1392 0012 1437     		adds	r7, r7, #20
 1393              	.LCFI73:
 1394              		.cfi_def_cfa_offset 4
 1395 0014 BD46     		mov	sp, r7
 1396              	.LCFI74:
 1397              		.cfi_def_cfa_register 13
 1398              		@ sp needed
 1399 0016 5DF8047B 		ldr	r7, [sp], #4
 1400              	.LCFI75:
 1401              		.cfi_restore 7
 1402              		.cfi_def_cfa_offset 0
 1403 001a 7047     		bx	lr
 1404              		.cfi_endproc
 1405              	.LFE16:
 1407              		.section	.rodata
 1408 00b3 00       		.align	2
 1409              	.LC9:
 1410 00b4 41542B43 		.ascii	"AT+CIPCLOSE\015\012\000"
 1410      4950434C 
 1410      4F53450D 
 1410      0A00
 1411              		.section	.text.esp8266_close,"ax",%progbits
 1412              		.align	1
 1413              		.syntax unified
 1414              		.thumb
 1415              		.thumb_func
 1416              		.fpu fpv4-sp-d16
 1418              	esp8266_close:
 1419              	.LFB17:
 383:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 384:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_close(int fd)
 385:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1420              		.loc 1 385 1
 1421              		.cfi_startproc
 1422              		@ args = 0, pretend = 0, frame = 80
 1423              		@ frame_needed = 1, uses_anonymous_args = 0
 1424 0000 80B5     		push	{r7, lr}
 1425              	.LCFI76:
 1426              		.cfi_def_cfa_offset 8
 1427              		.cfi_offset 7, -8
 1428              		.cfi_offset 14, -4
 1429 0002 94B0     		sub	sp, sp, #80
 1430              	.LCFI77:
 1431              		.cfi_def_cfa_offset 88
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 33


 1432 0004 00AF     		add	r7, sp, #0
 1433              	.LCFI78:
 1434              		.cfi_def_cfa_register 7
 1435 0006 7860     		str	r0, [r7, #4]
 386:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char cmd[64];
 387:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	int ret = -1;
 1436              		.loc 1 387 6
 1437 0008 4FF0FF33 		mov	r3, #-1
 1438 000c FB64     		str	r3, [r7, #76]
 388:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) memset(cmd,0,64);
 1439              		.loc 1 388 9
 1440 000e 07F10C03 		add	r3, r7, #12
 1441 0012 4022     		movs	r2, #64
 1442 0014 0021     		movs	r1, #0
 1443 0016 1846     		mov	r0, r3
 1444 0018 FFF7FEFF 		bl	memset
 389:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) snprintf(cmd,64,"AT+CIPCLOSE\r\n");//TODO: MUX = 1;
 1445              		.loc 1 389 9
 1446 001c 07F10C03 		add	r3, r7, #12
 1447 0020 0B4A     		ldr	r2, .L83
 1448 0022 4021     		movs	r1, #64
 1449 0024 1846     		mov	r0, r3
 1450 0026 FFF7FEFF 		bl	snprintf
 390:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	if(esp8266_atcmd(cmd,"OK"))
 1451              		.loc 1 390 5
 1452 002a 07F10C03 		add	r3, r7, #12
 1453 002e 0949     		ldr	r1, .L83+4
 1454 0030 1846     		mov	r0, r3
 1455 0032 FFF7FEFF 		bl	esp8266_atcmd
 1456 0036 0346     		mov	r3, r0
 1457              		.loc 1 390 4
 1458 0038 002B     		cmp	r3, #0
 1459 003a 04D0     		beq	.L81
 391:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	{
 392:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 		s_esp8266_sock_cb.isconnect = 0;
 1460              		.loc 1 392 31
 1461 003c 064B     		ldr	r3, .L83+8
 1462 003e 0022     		movs	r2, #0
 1463 0040 1A61     		str	r2, [r3, #16]
 393:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     	ret = 0;
 1464              		.loc 1 393 10
 1465 0042 0023     		movs	r3, #0
 1466 0044 FB64     		str	r3, [r7, #76]
 1467              	.L81:
 394:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 395:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	return ret;
 1468              		.loc 1 395 9
 1469 0046 FB6C     		ldr	r3, [r7, #76]
 396:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1470              		.loc 1 396 1
 1471 0048 1846     		mov	r0, r3
 1472 004a 5037     		adds	r7, r7, #80
 1473              	.LCFI79:
 1474              		.cfi_def_cfa_offset 8
 1475 004c BD46     		mov	sp, r7
 1476              	.LCFI80:
 1477              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 34


 1478              		@ sp needed
 1479 004e 80BD     		pop	{r7, pc}
 1480              	.L84:
 1481              		.align	2
 1482              	.L83:
 1483 0050 B4000000 		.word	.LC9
 1484 0054 8C000000 		.word	.LC4
 1485 0058 00000000 		.word	s_esp8266_sock_cb
 1486              		.cfi_endproc
 1487              	.LFE17:
 1489              		.section	.text.esp8266_shutdown,"ax",%progbits
 1490              		.align	1
 1491              		.syntax unified
 1492              		.thumb
 1493              		.thumb_func
 1494              		.fpu fpv4-sp-d16
 1496              	esp8266_shutdown:
 1497              	.LFB18:
 397:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 398:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_shutdown(int fd, int how)
 399:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1498              		.loc 1 399 1
 1499              		.cfi_startproc
 1500              		@ args = 0, pretend = 0, frame = 8
 1501              		@ frame_needed = 1, uses_anonymous_args = 0
 1502 0000 80B5     		push	{r7, lr}
 1503              	.LCFI81:
 1504              		.cfi_def_cfa_offset 8
 1505              		.cfi_offset 7, -8
 1506              		.cfi_offset 14, -4
 1507 0002 82B0     		sub	sp, sp, #8
 1508              	.LCFI82:
 1509              		.cfi_def_cfa_offset 16
 1510 0004 00AF     		add	r7, sp, #0
 1511              	.LCFI83:
 1512              		.cfi_def_cfa_register 7
 1513 0006 7860     		str	r0, [r7, #4]
 1514 0008 3960     		str	r1, [r7]
 400:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	return esp8266_close(fd);
 1515              		.loc 1 400 9
 1516 000a 7868     		ldr	r0, [r7, #4]
 1517 000c FFF7FEFF 		bl	esp8266_close
 1518 0010 0346     		mov	r3, r0
 401:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1519              		.loc 1 401 1
 1520 0012 1846     		mov	r0, r3
 1521 0014 0837     		adds	r7, r7, #8
 1522              	.LCFI84:
 1523              		.cfi_def_cfa_offset 8
 1524 0016 BD46     		mov	sp, r7
 1525              	.LCFI85:
 1526              		.cfi_def_cfa_register 13
 1527              		@ sp needed
 1528 0018 80BD     		pop	{r7, pc}
 1529              		.cfi_endproc
 1530              	.LFE18:
 1532              		.section	.text.esp8266_getsockname,"ax",%progbits
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 35


 1533              		.align	1
 1534              		.syntax unified
 1535              		.thumb
 1536              		.thumb_func
 1537              		.fpu fpv4-sp-d16
 1539              	esp8266_getsockname:
 1540              	.LFB19:
 402:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 403:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_getsockname(int fd, struct sockaddr *addr,socklen_t *addrlen)
 404:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1541              		.loc 1 404 1
 1542              		.cfi_startproc
 1543              		@ args = 0, pretend = 0, frame = 16
 1544              		@ frame_needed = 1, uses_anonymous_args = 0
 1545              		@ link register save eliminated.
 1546 0000 80B4     		push	{r7}
 1547              	.LCFI86:
 1548              		.cfi_def_cfa_offset 4
 1549              		.cfi_offset 7, -4
 1550 0002 85B0     		sub	sp, sp, #20
 1551              	.LCFI87:
 1552              		.cfi_def_cfa_offset 24
 1553 0004 00AF     		add	r7, sp, #0
 1554              	.LCFI88:
 1555              		.cfi_def_cfa_register 7
 1556 0006 F860     		str	r0, [r7, #12]
 1557 0008 B960     		str	r1, [r7, #8]
 1558 000a 7A60     		str	r2, [r7, #4]
 405:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     //not implemented
 406:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return 0;
 1559              		.loc 1 406 12
 1560 000c 0023     		movs	r3, #0
 407:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1561              		.loc 1 407 1
 1562 000e 1846     		mov	r0, r3
 1563 0010 1437     		adds	r7, r7, #20
 1564              	.LCFI89:
 1565              		.cfi_def_cfa_offset 4
 1566 0012 BD46     		mov	sp, r7
 1567              	.LCFI90:
 1568              		.cfi_def_cfa_register 13
 1569              		@ sp needed
 1570 0014 5DF8047B 		ldr	r7, [sp], #4
 1571              	.LCFI91:
 1572              		.cfi_restore 7
 1573              		.cfi_def_cfa_offset 0
 1574 0018 7047     		bx	lr
 1575              		.cfi_endproc
 1576              	.LFE19:
 1578              		.section	.text.esp8266_getpeername,"ax",%progbits
 1579              		.align	1
 1580              		.syntax unified
 1581              		.thumb
 1582              		.thumb_func
 1583              		.fpu fpv4-sp-d16
 1585              	esp8266_getpeername:
 1586              	.LFB20:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 36


 408:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 409:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static int esp8266_getpeername(int fd, struct sockaddr *addr,socklen_t *addrlen)
 410:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1587              		.loc 1 410 1
 1588              		.cfi_startproc
 1589              		@ args = 0, pretend = 0, frame = 16
 1590              		@ frame_needed = 1, uses_anonymous_args = 0
 1591              		@ link register save eliminated.
 1592 0000 80B4     		push	{r7}
 1593              	.LCFI92:
 1594              		.cfi_def_cfa_offset 4
 1595              		.cfi_offset 7, -4
 1596 0002 85B0     		sub	sp, sp, #20
 1597              	.LCFI93:
 1598              		.cfi_def_cfa_offset 24
 1599 0004 00AF     		add	r7, sp, #0
 1600              	.LCFI94:
 1601              		.cfi_def_cfa_register 7
 1602 0006 F860     		str	r0, [r7, #12]
 1603 0008 B960     		str	r1, [r7, #8]
 1604 000a 7A60     		str	r2, [r7, #4]
 411:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     //not implemented
 412:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return 0;
 1605              		.loc 1 412 12
 1606 000c 0023     		movs	r3, #0
 413:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1607              		.loc 1 413 1
 1608 000e 1846     		mov	r0, r3
 1609 0010 1437     		adds	r7, r7, #20
 1610              	.LCFI95:
 1611              		.cfi_def_cfa_offset 4
 1612 0012 BD46     		mov	sp, r7
 1613              	.LCFI96:
 1614              		.cfi_def_cfa_register 13
 1615              		@ sp needed
 1616 0014 5DF8047B 		ldr	r7, [sp], #4
 1617              	.LCFI97:
 1618              		.cfi_restore 7
 1619              		.cfi_def_cfa_offset 0
 1620 0018 7047     		bx	lr
 1621              		.cfi_endproc
 1622              	.LFE20:
 1624              		.section	.bss.s_esp8266_hostent,"aw",%nobits
 1625              		.align	2
 1628              	s_esp8266_hostent:
 1629 0000 00000000 		.space	20
 1629      00000000 
 1629      00000000 
 1629      00000000 
 1629      00000000 
 1630              		.section	.bss.s_esp8266_ipv4_addr,"aw",%nobits
 1631              		.align	2
 1634              	s_esp8266_ipv4_addr:
 1635 0000 00000000 		.space	4
 1636              		.section	.bss.s_esp8266_ipv4_lst,"aw",%nobits
 1637              		.align	2
 1640              	s_esp8266_ipv4_lst:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 37


 1641 0000 00000000 		.space	8
 1641      00000000 
 1642              		.section	.rodata
 1643 00c2 0000     		.align	2
 1644              	.LC10:
 1645 00c4 41542B43 		.ascii	"AT+CIPDOMAIN=\"%s\"\015\012\000"
 1645      4950444F 
 1645      4D41494E 
 1645      3D222573 
 1645      220D0A00 
 1646              		.align	2
 1647              	.LC11:
 1648 00d8 2B434950 		.ascii	"+CIPDOMAIN\000"
 1648      444F4D41 
 1648      494E00
 1649 00e3 00       		.align	2
 1650              	.LC12:
 1651 00e4 25642E25 		.ascii	"%d.%d.%d.%d\000"
 1651      642E2564 
 1651      2E256400 
 1652              		.section	.text.esp8266_gethostbyname,"ax",%progbits
 1653              		.align	1
 1654              		.syntax unified
 1655              		.thumb
 1656              		.thumb_func
 1657              		.fpu fpv4-sp-d16
 1659              	esp8266_gethostbyname:
 1660              	.LFB21:
 414:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 415:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** ///< here we must make sure that the hostent returned by gethostbyname won't be freeed, and
 416:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** ///< this data structure must be a static one, so we set it as a local global one
 417:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 418:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static struct hostent s_esp8266_hostent;
 419:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static uint8_t        s_esp8266_ipv4_addr[4];
 420:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static char          *s_esp8266_ipv4_lst[2];    ///< must be 2 or more because it terminated by NUL
 421:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static struct hostent *esp8266_gethostbyname(const char *name)
 422:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1661              		.loc 1 422 1
 1662              		.cfi_startproc
 1663              		@ args = 0, pretend = 0, frame = 168
 1664              		@ frame_needed = 1, uses_anonymous_args = 0
 1665 0000 80B5     		push	{r7, lr}
 1666              	.LCFI98:
 1667              		.cfi_def_cfa_offset 8
 1668              		.cfi_offset 7, -8
 1669              		.cfi_offset 14, -4
 1670 0002 ACB0     		sub	sp, sp, #176
 1671              	.LCFI99:
 1672              		.cfi_def_cfa_offset 184
 1673 0004 02AF     		add	r7, sp, #8
 1674              	.LCFI100:
 1675              		.cfi_def_cfa 7, 176
 1676 0006 7860     		str	r0, [r7, #4]
 423:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char cmd[64];
 424:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char resp[64];
 425:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 426:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char *str;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 38


 427:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	int ipv4[4];
 428:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	int fmt_num;
 429:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 430:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	struct hostent *hptr = NULL;
 1677              		.loc 1 430 18
 1678 0008 0023     		movs	r3, #0
 1679 000a C7F8A430 		str	r3, [r7, #164]
 431:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 432:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) memset(cmd,0,64);
 1680              		.loc 1 432 9
 1681 000e 07F15C03 		add	r3, r7, #92
 1682 0012 4022     		movs	r2, #64
 1683 0014 0021     		movs	r1, #0
 1684 0016 1846     		mov	r0, r3
 1685 0018 FFF7FEFF 		bl	memset
 433:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) snprintf(cmd,64,"AT+CIPDOMAIN=\"%s\"\r\n",name);
 1686              		.loc 1 433 9
 1687 001c 07F15C00 		add	r0, r7, #92
 1688 0020 7B68     		ldr	r3, [r7, #4]
 1689 0022 584A     		ldr	r2, .L97
 1690 0024 4021     		movs	r1, #64
 1691 0026 FFF7FEFF 		bl	snprintf
 434:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	if(false == esp8266_atcmd_response(cmd,"+CIPDOMAIN",resp,64))
 1692              		.loc 1 434 14
 1693 002a 07F11C02 		add	r2, r7, #28
 1694 002e 07F15C00 		add	r0, r7, #92
 1695 0032 4023     		movs	r3, #64
 1696 0034 5449     		ldr	r1, .L97+4
 1697 0036 FFF7FEFF 		bl	esp8266_atcmd_response
 1698 003a 0346     		mov	r3, r0
 1699              		.loc 1 434 4
 1700 003c 002B     		cmp	r3, #0
 1701 003e 47D1     		bne	.L92
 435:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	{
 436:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	    hptr = &s_esp8266_hostent;
 1702              		.loc 1 436 11
 1703 0040 524B     		ldr	r3, .L97+8
 1704 0042 C7F8A430 		str	r3, [r7, #164]
 437:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	    (void) memset(hptr,0,sizeof(struct hostent));
 1705              		.loc 1 437 13
 1706 0046 1422     		movs	r2, #20
 1707 0048 0021     		movs	r1, #0
 1708 004a D7F8A400 		ldr	r0, [r7, #164]
 1709 004e FFF7FEFF 		bl	memset
 438:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	    ///< we could not resolve it by the at device, so we check if your address if dot point
 439:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         fmt_num = sscanf(name,"%d.%d.%d.%d",&ipv4[0],&ipv4[1],&ipv4[2],&ipv4[3]);
 1710              		.loc 1 439 19
 1711 0052 07F10C03 		add	r3, r7, #12
 1712 0056 191D     		adds	r1, r3, #4
 1713 0058 07F10C02 		add	r2, r7, #12
 1714 005c 07F10C03 		add	r3, r7, #12
 1715 0060 0C33     		adds	r3, r3, #12
 1716 0062 0193     		str	r3, [sp, #4]
 1717 0064 07F10C03 		add	r3, r7, #12
 1718 0068 0833     		adds	r3, r3, #8
 1719 006a 0093     		str	r3, [sp]
 1720 006c 0B46     		mov	r3, r1
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 39


 1721 006e 4849     		ldr	r1, .L97+12
 1722 0070 7868     		ldr	r0, [r7, #4]
 1723 0072 FFF7FEFF 		bl	sscanf
 1724 0076 C7F89C00 		str	r0, [r7, #156]
 440:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(fmt_num > 0)
 1725              		.loc 1 440 11
 1726 007a D7F89C30 		ldr	r3, [r7, #156]
 1727 007e 002B     		cmp	r3, #0
 1728 0080 24DD     		ble	.L93
 441:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 442:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             hptr->h_addrtype = AF_INET;
 1729              		.loc 1 442 30
 1730 0082 D7F8A430 		ldr	r3, [r7, #164]
 1731 0086 0222     		movs	r2, #2
 1732 0088 9A60     		str	r2, [r3, #8]
 443:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             hptr->h_length = 4;
 1733              		.loc 1 443 28
 1734 008a D7F8A430 		ldr	r3, [r7, #164]
 1735 008e 0422     		movs	r2, #4
 1736 0090 DA60     		str	r2, [r3, #12]
 444:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_addr[0] = ipv4[0];
 1737              		.loc 1 444 42
 1738 0092 FB68     		ldr	r3, [r7, #12]
 1739              		.loc 1 444 36
 1740 0094 DAB2     		uxtb	r2, r3
 1741 0096 3F4B     		ldr	r3, .L97+16
 1742 0098 1A70     		strb	r2, [r3]
 445:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_addr[1] = ipv4[1];
 1743              		.loc 1 445 42
 1744 009a 3B69     		ldr	r3, [r7, #16]
 1745              		.loc 1 445 36
 1746 009c DAB2     		uxtb	r2, r3
 1747 009e 3D4B     		ldr	r3, .L97+16
 1748 00a0 5A70     		strb	r2, [r3, #1]
 446:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_addr[2] = ipv4[2];
 1749              		.loc 1 446 42
 1750 00a2 7B69     		ldr	r3, [r7, #20]
 1751              		.loc 1 446 36
 1752 00a4 DAB2     		uxtb	r2, r3
 1753 00a6 3B4B     		ldr	r3, .L97+16
 1754 00a8 9A70     		strb	r2, [r3, #2]
 447:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_addr[3] = ipv4[3];
 1755              		.loc 1 447 42
 1756 00aa BB69     		ldr	r3, [r7, #24]
 1757              		.loc 1 447 36
 1758 00ac DAB2     		uxtb	r2, r3
 1759 00ae 394B     		ldr	r3, .L97+16
 1760 00b0 DA70     		strb	r2, [r3, #3]
 448:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 449:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_lst[0] = (char *)&s_esp8266_ipv4_addr[0];
 1761              		.loc 1 449 35
 1762 00b2 394B     		ldr	r3, .L97+20
 1763 00b4 374A     		ldr	r2, .L97+16
 1764 00b6 1A60     		str	r2, [r3]
 450:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_lst[1] = NULL;
 1765              		.loc 1 450 35
 1766 00b8 374B     		ldr	r3, .L97+20
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 40


 1767 00ba 0022     		movs	r2, #0
 1768 00bc 5A60     		str	r2, [r3, #4]
 451:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 452:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             hptr->h_addr_list = &s_esp8266_ipv4_lst[0];
 1769              		.loc 1 452 31
 1770 00be D7F8A430 		ldr	r3, [r7, #164]
 1771 00c2 354A     		ldr	r2, .L97+20
 1772 00c4 1A61     		str	r2, [r3, #16]
 453:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             return hptr;
 1773              		.loc 1 453 20
 1774 00c6 D7F8A430 		ldr	r3, [r7, #164]
 1775 00ca 56E0     		b	.L96
 1776              	.L93:
 454:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 455:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 456:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         else
 457:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 458:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             return NULL;
 1777              		.loc 1 458 20
 1778 00cc 0023     		movs	r3, #0
 1779 00ce 54E0     		b	.L96
 1780              	.L92:
 459:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 460:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	}
 461:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	else  ///< decode it by the response
 462:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	{
 463:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	    str = strstr(resp,":");
 1781              		.loc 1 463 12
 1782 00d0 07F11C03 		add	r3, r7, #28
 1783 00d4 3A21     		movs	r1, #58
 1784 00d6 1846     		mov	r0, r3
 1785 00d8 FFF7FEFF 		bl	strchr
 1786 00dc C7F8A000 		str	r0, [r7, #160]
 464:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	    str++;
 1787              		.loc 1 464 9
 1788 00e0 D7F8A030 		ldr	r3, [r7, #160]
 1789 00e4 0133     		adds	r3, r3, #1
 1790 00e6 C7F8A030 		str	r3, [r7, #160]
 465:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 466:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         hptr = &s_esp8266_hostent;
 1791              		.loc 1 466 14
 1792 00ea 284B     		ldr	r3, .L97+8
 1793 00ec C7F8A430 		str	r3, [r7, #164]
 467:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         (void) memset(hptr,0,sizeof(struct hostent));
 1794              		.loc 1 467 16
 1795 00f0 1422     		movs	r2, #20
 1796 00f2 0021     		movs	r1, #0
 1797 00f4 D7F8A400 		ldr	r0, [r7, #164]
 1798 00f8 FFF7FEFF 		bl	memset
 468:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         ///< we could not resolve it by the at device, so we check if your address if dot point
 469:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         fmt_num = sscanf(str,"%d.%d.%d.%d",&ipv4[0],&ipv4[1],&ipv4[2],&ipv4[3]);
 1799              		.loc 1 469 19
 1800 00fc 07F10C03 		add	r3, r7, #12
 1801 0100 191D     		adds	r1, r3, #4
 1802 0102 07F10C02 		add	r2, r7, #12
 1803 0106 07F10C03 		add	r3, r7, #12
 1804 010a 0C33     		adds	r3, r3, #12
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 41


 1805 010c 0193     		str	r3, [sp, #4]
 1806 010e 07F10C03 		add	r3, r7, #12
 1807 0112 0833     		adds	r3, r3, #8
 1808 0114 0093     		str	r3, [sp]
 1809 0116 0B46     		mov	r3, r1
 1810 0118 1D49     		ldr	r1, .L97+12
 1811 011a D7F8A000 		ldr	r0, [r7, #160]
 1812 011e FFF7FEFF 		bl	sscanf
 1813 0122 C7F89C00 		str	r0, [r7, #156]
 470:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         if(fmt_num > 0)
 1814              		.loc 1 470 11
 1815 0126 D7F89C30 		ldr	r3, [r7, #156]
 1816 012a 002B     		cmp	r3, #0
 1817 012c 24DD     		ble	.L95
 471:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 472:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             hptr->h_addrtype = AF_INET;
 1818              		.loc 1 472 30
 1819 012e D7F8A430 		ldr	r3, [r7, #164]
 1820 0132 0222     		movs	r2, #2
 1821 0134 9A60     		str	r2, [r3, #8]
 473:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             hptr->h_length = 4;
 1822              		.loc 1 473 28
 1823 0136 D7F8A430 		ldr	r3, [r7, #164]
 1824 013a 0422     		movs	r2, #4
 1825 013c DA60     		str	r2, [r3, #12]
 474:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_addr[0] = ipv4[0];
 1826              		.loc 1 474 42
 1827 013e FB68     		ldr	r3, [r7, #12]
 1828              		.loc 1 474 36
 1829 0140 DAB2     		uxtb	r2, r3
 1830 0142 144B     		ldr	r3, .L97+16
 1831 0144 1A70     		strb	r2, [r3]
 475:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_addr[1] = ipv4[1];
 1832              		.loc 1 475 42
 1833 0146 3B69     		ldr	r3, [r7, #16]
 1834              		.loc 1 475 36
 1835 0148 DAB2     		uxtb	r2, r3
 1836 014a 124B     		ldr	r3, .L97+16
 1837 014c 5A70     		strb	r2, [r3, #1]
 476:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_addr[2] = ipv4[2];
 1838              		.loc 1 476 42
 1839 014e 7B69     		ldr	r3, [r7, #20]
 1840              		.loc 1 476 36
 1841 0150 DAB2     		uxtb	r2, r3
 1842 0152 104B     		ldr	r3, .L97+16
 1843 0154 9A70     		strb	r2, [r3, #2]
 477:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_addr[3] = ipv4[3];
 1844              		.loc 1 477 42
 1845 0156 BB69     		ldr	r3, [r7, #24]
 1846              		.loc 1 477 36
 1847 0158 DAB2     		uxtb	r2, r3
 1848 015a 0E4B     		ldr	r3, .L97+16
 1849 015c DA70     		strb	r2, [r3, #3]
 478:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 479:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_lst[0] = (char *)&s_esp8266_ipv4_addr[0];
 1850              		.loc 1 479 35
 1851 015e 0E4B     		ldr	r3, .L97+20
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 42


 1852 0160 0C4A     		ldr	r2, .L97+16
 1853 0162 1A60     		str	r2, [r3]
 480:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             s_esp8266_ipv4_lst[1] = NULL;
 1854              		.loc 1 480 35
 1855 0164 0C4B     		ldr	r3, .L97+20
 1856 0166 0022     		movs	r2, #0
 1857 0168 5A60     		str	r2, [r3, #4]
 481:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 482:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             hptr->h_addr_list = &s_esp8266_ipv4_lst[0];
 1858              		.loc 1 482 31
 1859 016a D7F8A430 		ldr	r3, [r7, #164]
 1860 016e 0A4A     		ldr	r2, .L97+20
 1861 0170 1A61     		str	r2, [r3, #16]
 483:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             return hptr;
 1862              		.loc 1 483 20
 1863 0172 D7F8A430 		ldr	r3, [r7, #164]
 1864 0176 00E0     		b	.L96
 1865              	.L95:
 484:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 485:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         else
 486:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         {
 487:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****             return NULL;
 1866              		.loc 1 487 20
 1867 0178 0023     		movs	r3, #0
 1868              	.L96:
 488:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         }
 489:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	}
 490:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1869              		.loc 1 490 1 discriminator 1
 1870 017a 1846     		mov	r0, r3
 1871 017c A837     		adds	r7, r7, #168
 1872              	.LCFI101:
 1873              		.cfi_def_cfa_offset 8
 1874 017e BD46     		mov	sp, r7
 1875              	.LCFI102:
 1876              		.cfi_def_cfa_register 13
 1877              		@ sp needed
 1878 0180 80BD     		pop	{r7, pc}
 1879              	.L98:
 1880 0182 00BF     		.align	2
 1881              	.L97:
 1882 0184 C4000000 		.word	.LC10
 1883 0188 D8000000 		.word	.LC11
 1884 018c 00000000 		.word	s_esp8266_hostent
 1885 0190 E4000000 		.word	.LC12
 1886 0194 00000000 		.word	s_esp8266_ipv4_addr
 1887 0198 00000000 		.word	s_esp8266_ipv4_lst
 1888              		.cfi_endproc
 1889              	.LFE21:
 1891              		.section	.rodata.s_tcpip_socket_ops,"a"
 1892              		.align	2
 1895              	s_tcpip_socket_ops:
 1896 0000 00000000 		.word	esp8266_socket
 1897 0004 00000000 		.word	__esp8266_bind
 1898 0008 00000000 		.word	esp8266_listen
 1899 000c 00000000 		.word	__esp8266_accept
 1900 0010 00000000 		.word	__esp8266_connect
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 43


 1901 0014 00000000 		.word	esp8266_getsockname
 1902 0018 00000000 		.word	esp8266_getpeername
 1903 001c 00000000 		.word	__esp8266_setsockopt
 1904 0020 00000000 		.word	esp8266_getsockopt
 1905 0024 00000000 		.word	esp8266_send
 1906 0028 00000000 		.word	__esp8266_sendto
 1907 002c 00000000 		.word	esp8266_recv
 1908 0030 00000000 		.word	__esp8266_recvfrom
 1909 0034 00000000 		.word	esp8266_shutdown
 1910 0038 00000000 		.word	esp8266_close
 1911 003c 00000000 		.word	esp8266_gethostbyname
 1912 0040 00000000 		.space	4
 1913              		.section	.rodata
 1914              		.align	2
 1915              	.LC13:
 1916 00f0 65737038 		.ascii	"esp8266 socket\000"
 1916      32363620 
 1916      736F636B 
 1916      657400
 1917              		.section	.rodata.s_tcpip_socket,"a"
 1918              		.align	2
 1921              	s_tcpip_socket:
 1922 0000 F0000000 		.word	.LC13
 1923 0004 02000000 		.word	2
 1924 0008 00000000 		.word	s_tcpip_socket_ops
 1925              		.section	.rodata
 1926 00ff 00       		.align	2
 1927              	.LC14:
 1928 0100 72656164 		.ascii	"ready\000"
 1928      7900
 1929 0106 0000     		.align	2
 1930              	.LC15:
 1931 0108 41542B52 		.ascii	"AT+RST\015\012\000"
 1931      53540D0A 
 1931      00
 1932              		.section	.text.esp8266_reset,"ax",%progbits
 1933              		.align	1
 1934              		.syntax unified
 1935              		.thumb
 1936              		.thumb_func
 1937              		.fpu fpv4-sp-d16
 1939              	esp8266_reset:
 1940              	.LFB22:
 491:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 492:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static const tag_tcpip_ops s_tcpip_socket_ops =
 493:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 494:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .socket = (fn_sal_socket)esp8266_socket,
 495:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .bind = (fn_sal_bind)__esp8266_bind,
 496:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .listen = (fn_sal_listen)esp8266_listen,
 497:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .connect = (fn_sal_connect)__esp8266_connect,
 498:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .accept = (fn_sal_accept)__esp8266_accept,
 499:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .send = (fn_sal_send)esp8266_send,
 500:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .sendto = (fn_sal_sendto)__esp8266_sendto,
 501:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .recv = (fn_sal_recv)esp8266_recv,
 502:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .recvfrom = (fn_sal_recvfrom)__esp8266_recvfrom,
 503:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .setsockopt = (fn_sal_setsockopt)__esp8266_setsockopt,
 504:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .getsockopt = (fn_sal_getsockopt)esp8266_getsockopt,
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 44


 505:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .shutdown =(fn_sal_shutdown)esp8266_shutdown,
 506:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .closesocket =(fn_sal_closesocket)esp8266_close,
 507:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .getpeername =(fn_sal_getpeername)esp8266_getpeername,
 508:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .getsockname = (fn_sal_getsockname)esp8266_getsockname,
 509:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    .gethostbyname = (fn_sal_gethostbyname)esp8266_gethostbyname,
 510:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** };
 511:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 512:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static const tag_tcpip_domain s_tcpip_socket =
 513:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 514:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     .name = "esp8266 socket",
 515:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     .domain = AF_INET,
 516:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     .ops = &s_tcpip_socket_ops,
 517:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** };
 518:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 519:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 520:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 521:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static bool_t esp8266_reset(void)
 522:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1941              		.loc 1 522 1
 1942              		.cfi_startproc
 1943              		@ args = 0, pretend = 0, frame = 0
 1944              		@ frame_needed = 1, uses_anonymous_args = 0
 1945 0000 80B5     		push	{r7, lr}
 1946              	.LCFI103:
 1947              		.cfi_def_cfa_offset 8
 1948              		.cfi_offset 7, -8
 1949              		.cfi_offset 14, -4
 1950 0002 00AF     		add	r7, sp, #0
 1951              	.LCFI104:
 1952              		.cfi_def_cfa_register 7
 523:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return esp8266_atcmd("AT+RST\r\n","ready");
 1953              		.loc 1 523 12
 1954 0004 0349     		ldr	r1, .L101
 1955 0006 0448     		ldr	r0, .L101+4
 1956 0008 FFF7FEFF 		bl	esp8266_atcmd
 1957 000c 0346     		mov	r3, r0
 524:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1958              		.loc 1 524 1
 1959 000e 1846     		mov	r0, r3
 1960 0010 80BD     		pop	{r7, pc}
 1961              	.L102:
 1962 0012 00BF     		.align	2
 1963              	.L101:
 1964 0014 00010000 		.word	.LC14
 1965 0018 08010000 		.word	.LC15
 1966              		.cfi_endproc
 1967              	.LFE22:
 1969              		.section	.rodata
 1970 0111 000000   		.align	2
 1971              	.LC16:
 1972 0114 41544530 		.ascii	"ATE0\015\012\000"
 1972      0D0A00
 1973              		.section	.text.esp8266_echo_off,"ax",%progbits
 1974              		.align	1
 1975              		.syntax unified
 1976              		.thumb
 1977              		.thumb_func
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 45


 1978              		.fpu fpv4-sp-d16
 1980              	esp8266_echo_off:
 1981              	.LFB23:
 525:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 526:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static bool_t esp8266_echo_off(void)
 527:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 1982              		.loc 1 527 1
 1983              		.cfi_startproc
 1984              		@ args = 0, pretend = 0, frame = 0
 1985              		@ frame_needed = 1, uses_anonymous_args = 0
 1986 0000 80B5     		push	{r7, lr}
 1987              	.LCFI105:
 1988              		.cfi_def_cfa_offset 8
 1989              		.cfi_offset 7, -8
 1990              		.cfi_offset 14, -4
 1991 0002 00AF     		add	r7, sp, #0
 1992              	.LCFI106:
 1993              		.cfi_def_cfa_register 7
 528:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return esp8266_atcmd("ATE0\r\n","OK");
 1994              		.loc 1 528 12
 1995 0004 0349     		ldr	r1, .L105
 1996 0006 0448     		ldr	r0, .L105+4
 1997 0008 FFF7FEFF 		bl	esp8266_atcmd
 1998 000c 0346     		mov	r3, r0
 529:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 1999              		.loc 1 529 1
 2000 000e 1846     		mov	r0, r3
 2001 0010 80BD     		pop	{r7, pc}
 2002              	.L106:
 2003 0012 00BF     		.align	2
 2004              	.L105:
 2005 0014 8C000000 		.word	.LC4
 2006 0018 14010000 		.word	.LC16
 2007              		.cfi_endproc
 2008              	.LFE23:
 2010              		.section	.rodata
 2011 011b 00       		.align	2
 2012              	.LC17:
 2013 011c 41542B43 		.ascii	"AT+CIPDINFO=%d\015\012\000"
 2013      49504449 
 2013      4E464F3D 
 2013      25640D0A 
 2013      00
 2014              		.section	.text.esp8266_show_dinfo,"ax",%progbits
 2015              		.align	1
 2016              		.syntax unified
 2017              		.thumb
 2018              		.thumb_func
 2019              		.fpu fpv4-sp-d16
 2021              	esp8266_show_dinfo:
 2022              	.LFB24:
 530:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 531:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static bool_t esp8266_show_dinfo(int flag)
 532:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 2023              		.loc 1 532 1
 2024              		.cfi_startproc
 2025              		@ args = 0, pretend = 0, frame = 72
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 46


 2026              		@ frame_needed = 1, uses_anonymous_args = 0
 2027 0000 80B5     		push	{r7, lr}
 2028              	.LCFI107:
 2029              		.cfi_def_cfa_offset 8
 2030              		.cfi_offset 7, -8
 2031              		.cfi_offset 14, -4
 2032 0002 92B0     		sub	sp, sp, #72
 2033              	.LCFI108:
 2034              		.cfi_def_cfa_offset 80
 2035 0004 00AF     		add	r7, sp, #0
 2036              	.LCFI109:
 2037              		.cfi_def_cfa_register 7
 2038 0006 7860     		str	r0, [r7, #4]
 533:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char cmd[64];
 534:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) memset(cmd,0,64);
 2039              		.loc 1 534 9
 2040 0008 07F10803 		add	r3, r7, #8
 2041 000c 4022     		movs	r2, #64
 2042 000e 0021     		movs	r1, #0
 2043 0010 1846     		mov	r0, r3
 2044 0012 FFF7FEFF 		bl	memset
 535:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) snprintf(cmd,64,"AT+CIPDINFO=%d\r\n",flag);
 2045              		.loc 1 535 9
 2046 0016 07F10800 		add	r0, r7, #8
 2047 001a 7B68     		ldr	r3, [r7, #4]
 2048 001c 074A     		ldr	r2, .L109
 2049 001e 4021     		movs	r1, #64
 2050 0020 FFF7FEFF 		bl	snprintf
 536:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return esp8266_atcmd(cmd,"OK");
 2051              		.loc 1 536 12
 2052 0024 07F10803 		add	r3, r7, #8
 2053 0028 0549     		ldr	r1, .L109+4
 2054 002a 1846     		mov	r0, r3
 2055 002c FFF7FEFF 		bl	esp8266_atcmd
 2056 0030 0346     		mov	r3, r0
 537:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 2057              		.loc 1 537 1
 2058 0032 1846     		mov	r0, r3
 2059 0034 4837     		adds	r7, r7, #72
 2060              	.LCFI110:
 2061              		.cfi_def_cfa_offset 8
 2062 0036 BD46     		mov	sp, r7
 2063              	.LCFI111:
 2064              		.cfi_def_cfa_register 13
 2065              		@ sp needed
 2066 0038 80BD     		pop	{r7, pc}
 2067              	.L110:
 2068 003a 00BF     		.align	2
 2069              	.L109:
 2070 003c 1C010000 		.word	.LC17
 2071 0040 8C000000 		.word	.LC4
 2072              		.cfi_endproc
 2073              	.LFE24:
 2075              		.section	.rodata
 2076 012d 000000   		.align	2
 2077              	.LC18:
 2078 0130 41542B43 		.ascii	"AT+CWMODE_CUR=%d\015\012\000"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 47


 2078      574D4F44 
 2078      455F4355 
 2078      523D2564 
 2078      0D0A00
 2079              		.section	.text.esp8266_set_mode,"ax",%progbits
 2080              		.align	1
 2081              		.syntax unified
 2082              		.thumb
 2083              		.thumb_func
 2084              		.fpu fpv4-sp-d16
 2086              	esp8266_set_mode:
 2087              	.LFB25:
 538:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 539:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static bool_t esp8266_set_mode(enum_net_mode mode)
 540:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 2088              		.loc 1 540 1
 2089              		.cfi_startproc
 2090              		@ args = 0, pretend = 0, frame = 72
 2091              		@ frame_needed = 1, uses_anonymous_args = 0
 2092 0000 80B5     		push	{r7, lr}
 2093              	.LCFI112:
 2094              		.cfi_def_cfa_offset 8
 2095              		.cfi_offset 7, -8
 2096              		.cfi_offset 14, -4
 2097 0002 92B0     		sub	sp, sp, #72
 2098              	.LCFI113:
 2099              		.cfi_def_cfa_offset 80
 2100 0004 00AF     		add	r7, sp, #0
 2101              	.LCFI114:
 2102              		.cfi_def_cfa_register 7
 2103 0006 0346     		mov	r3, r0
 2104 0008 FB71     		strb	r3, [r7, #7]
 541:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char cmd[64];
 542:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) memset(cmd,0,64);
 2105              		.loc 1 542 9
 2106 000a 07F10803 		add	r3, r7, #8
 2107 000e 4022     		movs	r2, #64
 2108 0010 0021     		movs	r1, #0
 2109 0012 1846     		mov	r0, r3
 2110 0014 FFF7FEFF 		bl	memset
 543:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) snprintf(cmd,64,"AT+CWMODE_CUR=%d\r\n",(int)mode);
 2111              		.loc 1 543 9
 2112 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2113 001a 07F10800 		add	r0, r7, #8
 2114 001e 074A     		ldr	r2, .L113
 2115 0020 4021     		movs	r1, #64
 2116 0022 FFF7FEFF 		bl	snprintf
 544:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	return esp8266_atcmd(cmd,"OK");
 2117              		.loc 1 544 9
 2118 0026 07F10803 		add	r3, r7, #8
 2119 002a 0549     		ldr	r1, .L113+4
 2120 002c 1846     		mov	r0, r3
 2121 002e FFF7FEFF 		bl	esp8266_atcmd
 2122 0032 0346     		mov	r3, r0
 545:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 2123              		.loc 1 545 1
 2124 0034 1846     		mov	r0, r3
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 48


 2125 0036 4837     		adds	r7, r7, #72
 2126              	.LCFI115:
 2127              		.cfi_def_cfa_offset 8
 2128 0038 BD46     		mov	sp, r7
 2129              	.LCFI116:
 2130              		.cfi_def_cfa_register 13
 2131              		@ sp needed
 2132 003a 80BD     		pop	{r7, pc}
 2133              	.L114:
 2134              		.align	2
 2135              	.L113:
 2136 003c 30010000 		.word	.LC18
 2137 0040 8C000000 		.word	.LC4
 2138              		.cfi_endproc
 2139              	.LFE25:
 2141              		.section	.rodata
 2142 0143 00       		.align	2
 2143              	.LC19:
 2144 0144 41542B43 		.ascii	"AT+CWJAP_CUR=\"%s\",\"%s\"\015\012\000"
 2144      574A4150 
 2144      5F435552 
 2144      3D222573 
 2144      222C2225 
 2145              		.section	.text.esp8266_joinap,"ax",%progbits
 2146              		.align	1
 2147              		.syntax unified
 2148              		.thumb
 2149              		.thumb_func
 2150              		.fpu fpv4-sp-d16
 2152              	esp8266_joinap:
 2153              	.LFB26:
 546:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 547:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static bool_t esp8266_joinap(char *ssid, char *passwd)
 548:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 2154              		.loc 1 548 1
 2155              		.cfi_startproc
 2156              		@ args = 0, pretend = 0, frame = 72
 2157              		@ frame_needed = 1, uses_anonymous_args = 0
 2158 0000 80B5     		push	{r7, lr}
 2159              	.LCFI117:
 2160              		.cfi_def_cfa_offset 8
 2161              		.cfi_offset 7, -8
 2162              		.cfi_offset 14, -4
 2163 0002 94B0     		sub	sp, sp, #80
 2164              	.LCFI118:
 2165              		.cfi_def_cfa_offset 88
 2166 0004 02AF     		add	r7, sp, #8
 2167              	.LCFI119:
 2168              		.cfi_def_cfa 7, 80
 2169 0006 7860     		str	r0, [r7, #4]
 2170 0008 3960     		str	r1, [r7]
 549:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char cmd[64];
 550:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) memset(cmd,0,64);
 2171              		.loc 1 550 9
 2172 000a 07F10803 		add	r3, r7, #8
 2173 000e 4022     		movs	r2, #64
 2174 0010 0021     		movs	r1, #0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 49


 2175 0012 1846     		mov	r0, r3
 2176 0014 FFF7FEFF 		bl	memset
 551:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     (void) snprintf(cmd,64,"AT+CWJAP_CUR=\"%s\",\"%s\"\r\n",ssid, passwd);
 2177              		.loc 1 551 12
 2178 0018 07F10800 		add	r0, r7, #8
 2179 001c 3B68     		ldr	r3, [r7]
 2180 001e 0093     		str	r3, [sp]
 2181 0020 7B68     		ldr	r3, [r7, #4]
 2182 0022 074A     		ldr	r2, .L117
 2183 0024 4021     		movs	r1, #64
 2184 0026 FFF7FEFF 		bl	snprintf
 552:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return esp8266_atcmd(cmd,"OK");
 2185              		.loc 1 552 12
 2186 002a 07F10803 		add	r3, r7, #8
 2187 002e 0549     		ldr	r1, .L117+4
 2188 0030 1846     		mov	r0, r3
 2189 0032 FFF7FEFF 		bl	esp8266_atcmd
 2190 0036 0346     		mov	r3, r0
 553:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 2191              		.loc 1 553 1
 2192 0038 1846     		mov	r0, r3
 2193 003a 4837     		adds	r7, r7, #72
 2194              	.LCFI120:
 2195              		.cfi_def_cfa_offset 8
 2196 003c BD46     		mov	sp, r7
 2197              	.LCFI121:
 2198              		.cfi_def_cfa_register 13
 2199              		@ sp needed
 2200 003e 80BD     		pop	{r7, pc}
 2201              	.L118:
 2202              		.align	2
 2203              	.L117:
 2204 0040 44010000 		.word	.LC19
 2205 0044 8C000000 		.word	.LC4
 2206              		.cfi_endproc
 2207              	.LFE26:
 2209              		.section	.rodata
 2210 015d 000000   		.align	2
 2211              	.LC20:
 2212 0160 41542B43 		.ascii	"AT+CIPMUX=%d\015\012\000"
 2212      49504D55 
 2212      583D2564 
 2212      0D0A00
 2213              		.section	.text.esp8266_set_mux,"ax",%progbits
 2214              		.align	1
 2215              		.syntax unified
 2216              		.thumb
 2217              		.thumb_func
 2218              		.fpu fpv4-sp-d16
 2220              	esp8266_set_mux:
 2221              	.LFB27:
 554:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 555:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** static bool_t esp8266_set_mux(int mux)
 556:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 2222              		.loc 1 556 1
 2223              		.cfi_startproc
 2224              		@ args = 0, pretend = 0, frame = 72
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 50


 2225              		@ frame_needed = 1, uses_anonymous_args = 0
 2226 0000 80B5     		push	{r7, lr}
 2227              	.LCFI122:
 2228              		.cfi_def_cfa_offset 8
 2229              		.cfi_offset 7, -8
 2230              		.cfi_offset 14, -4
 2231 0002 92B0     		sub	sp, sp, #72
 2232              	.LCFI123:
 2233              		.cfi_def_cfa_offset 80
 2234 0004 00AF     		add	r7, sp, #0
 2235              	.LCFI124:
 2236              		.cfi_def_cfa_register 7
 2237 0006 7860     		str	r0, [r7, #4]
 557:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	char cmd[64];
 558:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 	(void) memset(cmd,0,64);
 2238              		.loc 1 558 9
 2239 0008 07F10803 		add	r3, r7, #8
 2240 000c 4022     		movs	r2, #64
 2241 000e 0021     		movs	r1, #0
 2242 0010 1846     		mov	r0, r3
 2243 0012 FFF7FEFF 		bl	memset
 559:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     (void) snprintf(cmd,64,"AT+CIPMUX=%d\r\n",mux);
 2244              		.loc 1 559 12
 2245 0016 07F10800 		add	r0, r7, #8
 2246 001a 7B68     		ldr	r3, [r7, #4]
 2247 001c 074A     		ldr	r2, .L121
 2248 001e 4021     		movs	r1, #64
 2249 0020 FFF7FEFF 		bl	snprintf
 560:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return esp8266_atcmd(cmd,"OK");
 2250              		.loc 1 560 12
 2251 0024 07F10803 		add	r3, r7, #8
 2252 0028 0549     		ldr	r1, .L121+4
 2253 002a 1846     		mov	r0, r3
 2254 002c FFF7FEFF 		bl	esp8266_atcmd
 2255 0030 0346     		mov	r3, r0
 561:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 2256              		.loc 1 561 1
 2257 0032 1846     		mov	r0, r3
 2258 0034 4837     		adds	r7, r7, #72
 2259              	.LCFI125:
 2260              		.cfi_def_cfa_offset 8
 2261 0036 BD46     		mov	sp, r7
 2262              	.LCFI126:
 2263              		.cfi_def_cfa_register 13
 2264              		@ sp needed
 2265 0038 80BD     		pop	{r7, pc}
 2266              	.L122:
 2267 003a 00BF     		.align	2
 2268              	.L121:
 2269 003c 60010000 		.word	.LC20
 2270 0040 8C000000 		.word	.LC4
 2271              		.cfi_endproc
 2272              	.LFE27:
 2274              		.section	.rodata
 2275 016f 00       		.align	2
 2276              	.LC21:
 2277 0170 65737038 		.ascii	"esp8266rcv\000"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 51


 2277      32363672 
 2277      637600
 2278 017b 00       		.align	2
 2279              	.LC22:
 2280 017c 5B25735D 		.ascii	"[%s][%u][%s:%d] connect ap failed, retry..\015\012\015"
 2280      5B25755D 
 2280      5B25733A 
 2280      25645D20 
 2280      636F6E6E 
 2281 01a9 0A00     		.ascii	"\012\000"
 2282 01ab 00       		.align	2
 2283              	.LC23:
 2284 01ac 58636C37 		.ascii	"Xcl727501\000"
 2284      32373530 
 2284      3100
 2285 01b6 0000     		.align	2
 2286              	.LC24:
 2287 01b8 434D4343 		.ascii	"CMCC-CN\000"
 2287      2D434E00 
 2288              		.align	2
 2289              	.LC25:
 2290 01c0 5B25735D 		.ascii	"[%s][%u][%s:%d] sal:install socket success\015\012\015"
 2290      5B25755D 
 2290      5B25733A 
 2290      25645D20 
 2290      73616C3A 
 2291 01ed 0A00     		.ascii	"\012\000"
 2292 01ef 00       		.align	2
 2293              	.LC26:
 2294 01f0 5B25735D 		.ascii	"[%s][%u][%s:%d] sal:install socket failed\015\012\015"
 2294      5B25755D 
 2294      5B25733A 
 2294      25645D20 
 2294      73616C3A 
 2295 021c 0A00     		.ascii	"\012\000"
 2296              		.section	.text.link_tcpip_imp_init,"ax",%progbits
 2297              		.align	1
 2298              		.global	link_tcpip_imp_init
 2299              		.syntax unified
 2300              		.thumb
 2301              		.thumb_func
 2302              		.fpu fpv4-sp-d16
 2304              	link_tcpip_imp_init:
 2305              	.LFB28:
 562:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 563:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** int link_tcpip_imp_init(void)
 564:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** {
 2306              		.loc 1 564 1
 2307              		.cfi_startproc
 2308              		@ args = 0, pretend = 0, frame = 8
 2309              		@ frame_needed = 1, uses_anonymous_args = 0
 2310 0000 90B5     		push	{r4, r7, lr}
 2311              	.LCFI127:
 2312              		.cfi_def_cfa_offset 12
 2313              		.cfi_offset 4, -12
 2314              		.cfi_offset 7, -8
 2315              		.cfi_offset 14, -4
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 52


 2316 0002 85B0     		sub	sp, sp, #20
 2317              	.LCFI128:
 2318              		.cfi_def_cfa_offset 32
 2319 0004 02AF     		add	r7, sp, #8
 2320              	.LCFI129:
 2321              		.cfi_def_cfa 7, 24
 565:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     int ret = -1;
 2322              		.loc 1 565 9
 2323 0006 4FF0FF33 		mov	r3, #-1
 2324 000a 7B60     		str	r3, [r7, #4]
 566:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 567:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     at_oobregister("esp8266rcv",CN_ESP8266_RCVINDEX,strlen(CN_ESP8266_RCVINDEX),esp8266_rcvdeal,NUL
 2325              		.loc 1 567 5
 2326 000c 0023     		movs	r3, #0
 2327 000e 0093     		str	r3, [sp]
 2328 0010 434B     		ldr	r3, .L130
 2329 0012 0622     		movs	r2, #6
 2330 0014 4349     		ldr	r1, .L130+4
 2331 0016 4448     		ldr	r0, .L130+8
 2332 0018 FFF7FEFF 		bl	at_oobregister
 568:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     ring_buffer_init(&s_esp8266_sock_cb.esp8266_rcvring,s_esp8266_sock_cb.esp8266_rcvbuf,CN_ESP8266
 2333              		.loc 1 568 5
 2334 001c 0023     		movs	r3, #0
 2335 001e 0093     		str	r3, [sp]
 2336 0020 0023     		movs	r3, #0
 2337 0022 4FF4E162 		mov	r2, #1800
 2338 0026 4149     		ldr	r1, .L130+12
 2339 0028 4148     		ldr	r0, .L130+16
 2340 002a FFF7FEFF 		bl	ring_buffer_init
 569:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 570:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     osal_task_sleep(1000);
 2341              		.loc 1 570 5
 2342 002e 4FF47A70 		mov	r0, #1000
 2343 0032 FFF7FEFF 		bl	osal_task_sleep
 571:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 572:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     esp8266_reset();
 2344              		.loc 1 572 5
 2345 0036 FFF7FEFF 		bl	esp8266_reset
 573:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     esp8266_echo_off();
 2346              		.loc 1 573 5
 2347 003a FFF7FEFF 		bl	esp8266_echo_off
 574:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     esp8266_show_dinfo(0);
 2348              		.loc 1 574 5
 2349 003e 0020     		movs	r0, #0
 2350 0040 FFF7FEFF 		bl	esp8266_show_dinfo
 575:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     esp8266_set_mode(STA);
 2351              		.loc 1 575 5
 2352 0044 0120     		movs	r0, #1
 2353 0046 FFF7FEFF 		bl	esp8266_set_mode
 576:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     esp8266_set_mux(0);
 2354              		.loc 1 576 5
 2355 004a 0020     		movs	r0, #0
 2356 004c FFF7FEFF 		bl	esp8266_set_mux
 577:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 578:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     while(false == esp8266_joinap(WIFI_SSID, WIFI_PASSWD))
 2357              		.loc 1 578 10
 2358 0050 25E0     		b	.L124
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 53


 2359              	.L126:
 579:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 580:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         LINK_LOG_DEBUG("connect ap failed, retry..\r\n");
 2360              		.loc 1 580 9
 2361 0052 FFF7FEFF 		bl	link_log_level_get
 2362 0056 0346     		mov	r3, r0
 2363 0058 012B     		cmp	r3, #1
 2364 005a 0FD8     		bhi	.L125
 2365              		.loc 1 580 9 is_stmt 0 discriminator 1
 2366 005c 0120     		movs	r0, #1
 2367 005e FFF7FEFF 		bl	link_log_level_name
 2368 0062 0446     		mov	r4, r0
 2369 0064 FFF7FEFF 		bl	osal_sys_time
 2370 0068 0246     		mov	r2, r0
 2371 006a 0B46     		mov	r3, r1
 2372 006c 4FF41173 		mov	r3, #580
 2373 0070 0093     		str	r3, [sp]
 2374 0072 304B     		ldr	r3, .L130+20
 2375 0074 2146     		mov	r1, r4
 2376 0076 3048     		ldr	r0, .L130+24
 2377 0078 FFF7FEFF 		bl	printf
 2378              	.L125:
 581:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 582:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         osal_task_sleep(1000);
 2379              		.loc 1 582 9 is_stmt 1
 2380 007c 4FF47A70 		mov	r0, #1000
 2381 0080 FFF7FEFF 		bl	osal_task_sleep
 583:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         esp8266_reset();
 2382              		.loc 1 583 9
 2383 0084 FFF7FEFF 		bl	esp8266_reset
 584:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         esp8266_echo_off();
 2384              		.loc 1 584 9
 2385 0088 FFF7FEFF 		bl	esp8266_echo_off
 585:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         esp8266_show_dinfo(0);
 2386              		.loc 1 585 9
 2387 008c 0020     		movs	r0, #0
 2388 008e FFF7FEFF 		bl	esp8266_show_dinfo
 586:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         esp8266_set_mode(STA);
 2389              		.loc 1 586 9
 2390 0092 0120     		movs	r0, #1
 2391 0094 FFF7FEFF 		bl	esp8266_set_mode
 587:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         esp8266_set_mux(0);
 2392              		.loc 1 587 9
 2393 0098 0020     		movs	r0, #0
 2394 009a FFF7FEFF 		bl	esp8266_set_mux
 2395              	.L124:
 578:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 2396              		.loc 1 578 20
 2397 009e 2749     		ldr	r1, .L130+28
 2398 00a0 2748     		ldr	r0, .L130+32
 2399 00a2 FFF7FEFF 		bl	esp8266_joinap
 2400 00a6 0346     		mov	r3, r0
 578:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 2401              		.loc 1 578 10
 2402 00a8 002B     		cmp	r3, #0
 2403 00aa D2D0     		beq	.L126
 588:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 54


 589:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 590:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     at_debugclose();
 2404              		.loc 1 590 5
 2405 00ac FFF7FEFF 		bl	at_debugclose
 591:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****    //reach here means everything is ok, we can go now
 592:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     ret = link_sal_install(&s_tcpip_socket);
 2406              		.loc 1 592 11
 2407 00b0 2448     		ldr	r0, .L130+36
 2408 00b2 FFF7FEFF 		bl	link_sal_install
 2409 00b6 7860     		str	r0, [r7, #4]
 593:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 594:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     if(0 == ret)
 2410              		.loc 1 594 7
 2411 00b8 7B68     		ldr	r3, [r7, #4]
 2412 00ba 002B     		cmp	r3, #0
 2413 00bc 15D1     		bne	.L127
 595:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 596:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         LINK_LOG_DEBUG("sal:install socket success\r\n");
 2414              		.loc 1 596 9
 2415 00be FFF7FEFF 		bl	link_log_level_get
 2416 00c2 0346     		mov	r3, r0
 2417 00c4 012B     		cmp	r3, #1
 2418 00c6 25D8     		bhi	.L128
 2419              		.loc 1 596 9 is_stmt 0 discriminator 1
 2420 00c8 0120     		movs	r0, #1
 2421 00ca FFF7FEFF 		bl	link_log_level_name
 2422 00ce 0446     		mov	r4, r0
 2423 00d0 FFF7FEFF 		bl	osal_sys_time
 2424 00d4 0246     		mov	r2, r0
 2425 00d6 0B46     		mov	r3, r1
 2426 00d8 4FF41573 		mov	r3, #596
 2427 00dc 0093     		str	r3, [sp]
 2428 00de 154B     		ldr	r3, .L130+20
 2429 00e0 2146     		mov	r1, r4
 2430 00e2 1948     		ldr	r0, .L130+40
 2431 00e4 FFF7FEFF 		bl	printf
 2432 00e8 14E0     		b	.L128
 2433              	.L127:
 597:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 598:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     else
 599:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     {
 600:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****         LINK_LOG_DEBUG("sal:install socket failed\r\n");
 2434              		.loc 1 600 9 is_stmt 1
 2435 00ea FFF7FEFF 		bl	link_log_level_get
 2436 00ee 0346     		mov	r3, r0
 2437 00f0 012B     		cmp	r3, #1
 2438 00f2 0FD8     		bhi	.L128
 2439              		.loc 1 600 9 is_stmt 0 discriminator 1
 2440 00f4 0120     		movs	r0, #1
 2441 00f6 FFF7FEFF 		bl	link_log_level_name
 2442 00fa 0446     		mov	r4, r0
 2443 00fc FFF7FEFF 		bl	osal_sys_time
 2444 0100 0246     		mov	r2, r0
 2445 0102 0B46     		mov	r3, r1
 2446 0104 4FF41673 		mov	r3, #600
 2447 0108 0093     		str	r3, [sp]
 2448 010a 0A4B     		ldr	r3, .L130+20
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 55


 2449 010c 2146     		mov	r1, r4
 2450 010e 0F48     		ldr	r0, .L130+44
 2451 0110 FFF7FEFF 		bl	printf
 2452              	.L128:
 601:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     }
 602:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** 
 603:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c ****     return ret;
 2453              		.loc 1 603 12 is_stmt 1
 2454 0114 7B68     		ldr	r3, [r7, #4]
 604:g:/iot/IoT_Device_Demo/iot_link/network/tcpip/esp8266_socket\esp8266_socket_imp.c **** }
 2455              		.loc 1 604 1
 2456 0116 1846     		mov	r0, r3
 2457 0118 0C37     		adds	r7, r7, #12
 2458              	.LCFI130:
 2459              		.cfi_def_cfa_offset 12
 2460 011a BD46     		mov	sp, r7
 2461              	.LCFI131:
 2462              		.cfi_def_cfa_register 13
 2463              		@ sp needed
 2464 011c 90BD     		pop	{r4, r7, pc}
 2465              	.L131:
 2466 011e 00BF     		.align	2
 2467              	.L130:
 2468 0120 00000000 		.word	esp8266_rcvdeal
 2469 0124 AC000000 		.word	.LC8
 2470 0128 70010000 		.word	.LC21
 2471 012c 30070000 		.word	s_esp8266_sock_cb+1840
 2472 0130 18000000 		.word	s_esp8266_sock_cb+24
 2473 0134 00000000 		.word	__FUNCTION__.7657
 2474 0138 7C010000 		.word	.LC22
 2475 013c AC010000 		.word	.LC23
 2476 0140 B8010000 		.word	.LC24
 2477 0144 00000000 		.word	s_tcpip_socket
 2478 0148 C0010000 		.word	.LC25
 2479 014c F0010000 		.word	.LC26
 2480              		.cfi_endproc
 2481              	.LFE28:
 2483              		.section	.rodata.__FUNCTION__.7509,"a"
 2484              		.align	2
 2487              	__FUNCTION__.7509:
 2488 0000 65737038 		.ascii	"esp8266_rcvdeal\000"
 2488      3236365F 
 2488      72637664 
 2488      65616C00 
 2489              		.section	.rodata.__FUNCTION__.7657,"a"
 2490              		.align	2
 2493              	__FUNCTION__.7657:
 2494 0000 6C696E6B 		.ascii	"link_tcpip_imp_init\000"
 2494      5F746370 
 2494      69705F69 
 2494      6D705F69 
 2494      6E697400 
 2495              		.text
 2496              	.Letext0:
 2497              		.file 2 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\include\\machine\\_d
 2498              		.file 3 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\lib\\gcc\\arm-none-eabi\\9.2.1\\inc
 2499              		.file 4 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\include\\sys\\lock.h
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 56


 2500              		.file 5 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\include\\sys\\_types
 2501              		.file 6 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\include\\sys\\reent.
 2502              		.file 7 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdin
 2503              		.file 8 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\include\\sys\\_timev
 2504              		.file 9 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\include\\sys\\select
 2505              		.file 10 "g:\\iot\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\include\\sys\\unist
 2506              		.file 11 "g:/iot/IoT_Device_Demo/iot_link/inc/sal_types.h"
 2507              		.file 12 "g:/iot/IoT_Device_Demo/iot_link/inc/sal_imp.h"
 2508              		.file 13 "g:/iot/IoT_Device_Demo/iot_link/link_misc/link_misc.h"
 2509              		.file 14 "g:/iot/IoT_Device_Demo/iot_link/inc/link_log.h"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 57


DEFINED SYMBOLS
                            *ABS*:00000000 esp8266_socket_imp.c
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:18     .bss.s_esp8266_sock_cb:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:21     .bss.s_esp8266_sock_cb:00000000 s_esp8266_sock_cb
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:24     .text.esp8266_atcmd:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:31     .text.esp8266_atcmd:00000000 esp8266_atcmd
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:92     .text.esp8266_atcmd_response:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:98     .text.esp8266_atcmd_response:00000000 esp8266_atcmd_response
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:160    .rodata:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:168    .text.esp8266_rcvdeal:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:174    .text.esp8266_rcvdeal:00000000 esp8266_rcvdeal
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:529    .text.esp8266_rcvdeal:0000020c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2487   .rodata.__FUNCTION__.7509:00000000 __FUNCTION__.7509
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:538    .text.esp8266_socket:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:544    .text.esp8266_socket:00000000 esp8266_socket
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:600    .text.esp8266_socket:00000034 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:605    .text.__esp8266_bind:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:611    .text.__esp8266_bind:00000000 __esp8266_bind
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:651    .text.esp8266_listen:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:657    .text.esp8266_listen:00000000 esp8266_listen
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:696    .text.__esp8266_accept:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:702    .text.__esp8266_accept:00000000 __esp8266_accept
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:752    .text.__esp8266_connect:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:758    .text.__esp8266_connect:00000000 __esp8266_connect
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:887    .text.__esp8266_connect:000000b8 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:908    .text.esp8266_send:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:914    .text.esp8266_send:00000000 esp8266_send
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1026   .text.esp8266_send:000000a8 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1035   .text.__esp8266_sendto:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1041   .text.__esp8266_sendto:00000000 __esp8266_sendto
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1094   .text.__esp8266_sendto:00000038 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1099   .text.esp8266_recv:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1105   .text.esp8266_recv:00000000 esp8266_recv
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1232   .text.esp8266_recv:000000a0 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1238   .text.__esp8266_recvfrom:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1244   .text.__esp8266_recvfrom:00000000 __esp8266_recvfrom
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1286   .text.__esp8266_setsockopt:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1292   .text.__esp8266_setsockopt:00000000 __esp8266_setsockopt
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1355   .text.__esp8266_setsockopt:00000044 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1361   .text.esp8266_getsockopt:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1367   .text.esp8266_getsockopt:00000000 esp8266_getsockopt
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1412   .text.esp8266_close:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1418   .text.esp8266_close:00000000 esp8266_close
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1483   .text.esp8266_close:00000050 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1490   .text.esp8266_shutdown:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1496   .text.esp8266_shutdown:00000000 esp8266_shutdown
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1533   .text.esp8266_getsockname:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1539   .text.esp8266_getsockname:00000000 esp8266_getsockname
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1579   .text.esp8266_getpeername:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1585   .text.esp8266_getpeername:00000000 esp8266_getpeername
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1625   .bss.s_esp8266_hostent:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1628   .bss.s_esp8266_hostent:00000000 s_esp8266_hostent
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1631   .bss.s_esp8266_ipv4_addr:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1634   .bss.s_esp8266_ipv4_addr:00000000 s_esp8266_ipv4_addr
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1637   .bss.s_esp8266_ipv4_lst:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1640   .bss.s_esp8266_ipv4_lst:00000000 s_esp8266_ipv4_lst
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1653   .text.esp8266_gethostbyname:00000000 $t
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s 			page 58


C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1659   .text.esp8266_gethostbyname:00000000 esp8266_gethostbyname
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1882   .text.esp8266_gethostbyname:00000184 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1892   .rodata.s_tcpip_socket_ops:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1895   .rodata.s_tcpip_socket_ops:00000000 s_tcpip_socket_ops
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1918   .rodata.s_tcpip_socket:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1921   .rodata.s_tcpip_socket:00000000 s_tcpip_socket
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1933   .text.esp8266_reset:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1939   .text.esp8266_reset:00000000 esp8266_reset
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1964   .text.esp8266_reset:00000014 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1974   .text.esp8266_echo_off:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:1980   .text.esp8266_echo_off:00000000 esp8266_echo_off
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2005   .text.esp8266_echo_off:00000014 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2015   .text.esp8266_show_dinfo:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2021   .text.esp8266_show_dinfo:00000000 esp8266_show_dinfo
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2070   .text.esp8266_show_dinfo:0000003c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2080   .text.esp8266_set_mode:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2086   .text.esp8266_set_mode:00000000 esp8266_set_mode
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2136   .text.esp8266_set_mode:0000003c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2146   .text.esp8266_joinap:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2152   .text.esp8266_joinap:00000000 esp8266_joinap
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2204   .text.esp8266_joinap:00000040 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2214   .text.esp8266_set_mux:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2220   .text.esp8266_set_mux:00000000 esp8266_set_mux
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2269   .text.esp8266_set_mux:0000003c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2297   .text.link_tcpip_imp_init:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2304   .text.link_tcpip_imp_init:00000000 link_tcpip_imp_init
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2468   .text.link_tcpip_imp_init:00000120 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2493   .rodata.__FUNCTION__.7657:00000000 __FUNCTION__.7657
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2484   .rodata.__FUNCTION__.7509:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccI0fFKo.s:2490   .rodata.__FUNCTION__.7657:00000000 $d

UNDEFINED SYMBOLS
strlen
at_command
link_log_level_get
link_log_level_name
osal_sys_time
printf
strchr
ring_buffer_datalen
ring_buffer_write
memset
inet_ntoa
snprintf
strstr
ring_buffer_read
osal_task_sleep
sscanf
at_oobregister
ring_buffer_init
at_debugclose
link_sal_install
